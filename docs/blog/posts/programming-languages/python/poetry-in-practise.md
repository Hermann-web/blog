---
date: 2024-01-21
authors: [hermann-web]
comments: true
description: |
  Learn how to manage Python projects effortlessly using Poetry. This guide provides step-by-step instructions for installation, project initialization, dependency management, script addition, code formatting, and more. Explore the power of Poetry for streamlined Python development.
categories:
  - programming
  - python
  - package-manager
  - poetry
  - project-management
title: "Managing Python Projects with Poetry: A Comprehensive Guide"
---

# Managing Python Projects with Poetry

<div class="float-img-container float-img-left">
  <a title="python-poetry authors, SÃ©bastien Eustace, MIT License &lt;https://github.com/python-poetry/poetry/blob/main/LICENSE&gt;, via Github" href="https://python-poetry.org/"><img width="100" alt="python-poetry" src="https://python-poetry.org/images/logo-origami.svg"></a>
</div>

Poetry simplifies Python project management and dependency handling. It's beginner-friendly and offers advantages like streamlined dependency management, integrated virtual environments, and simplified workflow. Give it a try to experience efficient Python development.

Follow these steps to initialize, add dependencies, and manage your project effortlessly:

## 1. Install Poetry

If Poetry is not installed, use the following command:

```bash
pip install poetry
```

<!-- more -->

![Poetry Install](https://raw.githubusercontent.com/python-poetry/poetry/master/assets/install.gif){width=250}

## 2. Create a New Project

Navigate to your desired project directory and run:

```bash
poetry new project_name
```

Replace `project_name` with your desired project name.

## 3. Add Dependencies

Move into your project directory:

```bash
cd project_name
```

Add dependencies with:

```bash
poetry add package_name
```

Replace `package_name` with the desired package. Poetry manages dependencies in `pyproject.toml`.

## 4. Install Dependencies

Install dependencies or update existing ones:

```bash
poetry install
```

This creates a virtual environment for your project.

## 5. Run Your Project

Execute Python scripts within the Poetry-managed environment:

```bash
poetry run python your_script.py
```

Replace `your_script.py` with your script's name.

## 6. Other Commands

- Update a package:

  ```bash
  poetry update package_name
  ```

- Access the virtual environment shell:

  ```bash
  poetry shell
  ```

## Adding a Script

Modify the `pyproject.toml` file to include a script:

```toml
...

[tool.poetry.scripts]
start = "uvicorn app.main:app --host 0.0.0.0 --port 8000 --reload"

...
```

Run the development server with:

```bash
poetry run start
```

## Additional Dependencies

Add Jupyter as a development dependency:

```bash
poetry add jupyter --group dev
```

Modify `pyproject.toml`:

```toml
...

jupyter = "notebook"

...
```

## Code Formatting with isort and black

Install `isort` and `black`:

```bash
poetry add --dev isort black
```

Configure in `pyproject.toml`:

```toml
[tool.isort]
profile = "black"

[tool.black]
line-length = 88
```

Format code with:

```bash
poetry run format
```

## Grouped Package Installation

Install a package in a group:

```bash
poetry add "laspy[lazrs,laszip]==2.4.1" --group laspy
```

## Modifying Python Version

Change Python version requirement in `pyproject.toml`:

```toml
[tool.poetry.dependencies]
python = "^3.9"
matplotlib = "3.7.1"
```

Update dependencies:

```bash
poetry update
```

## Running the Project

Execute your project with:

```bash
poetry run your_command_here
```

Replace `your_command_here` with your actual command.

## generate a `requirements.txt` file using Poetry

Poetry doesn't directly generate a `requirements.txt` file, but you can generate an equivalent file using the following command:

```bash
poetry export -f requirements.txt --output requirements.txt --without-hashes
```

This command exports your project's dependencies into a `requirements.txt` file. Here's what each part of the command does:

- `-f requirements.txt`: Specifies the format of the output file.
- `--output requirements.txt`: Sets the output file name.
- `--without-hashes`: Exports the dependencies without including the hash information for each package.

This command essentially creates a `requirements.txt` file that lists all the project dependencies along with their versions, making it similar to a standard `requirements.txt` file commonly used with `pip`.

Remember that this file generated by Poetry won't include any packages managed exclusively by Poetry (like development dependencies or direct URLs to packages). It mainly generates a simplified version of requirements that can be used with `pip`.

Run this command in the root directory of your Poetry-managed project, and it will generate the `requirements.txt` file based on your project's dependencies.

## Configuring isort and black with Poetry

To maintain consistent code formatting and import organization in your Python projects managed with Poetry, you can configure tools like `isort` and `black`. Here's how you can integrate them into your Poetry workflow:

1. Create or open your `pyproject.toml` file in the root of your project directory.

2. Add the `[tool.isort]` and `[tool.black]` sections along with the configuration settings:

```toml
[tool.isort]
profile = "black"

[tool.black]
line-length = 100
```

3. Save the `pyproject.toml` file.

4. When you run `poetry install` or `poetry update` to manage your project dependencies, Poetry will consider the configuration provided for `isort` and `black`.

5. Additionally, you can run `isort` and `black` directly with Poetry by using `poetry run` followed by the respective command. For example:

```bash
poetry run isort .
poetry run black .
```

This will run `isort` and `black` with the configurations specified in the `pyproject.toml` file on your project files.

Enjoy seamless Python project management with Poetry! Happy coding!
