<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Meet Hermann, a pro at full-stack web development and data science, acing website building, backend systems, ML & DL (NLP and 3D vision included). These tutorials? They're my personal cheat sheets—where I stash those markdown, GitHub nuggets: syntax, functions, handy tools—stuff I use all the time. Now, I'm turning some into blog posts. Join me in simplifying our learning journeys, building a shared resource that evolves as we grow."><meta name=author content="Hermann Agossou"><link href=https://hermann-web.github.io/blog/projects/bot_detection_in_auction/ rel=canonical><link href=../ rel=prev><link href=../search-engine-for-domain-specific-french-users/ rel=next><link rel=icon href=../../assets/hermann-web.png><meta name=generator content="mkdocs-1.5.3, mkdocs-material-9.5.14"><title>Bots Detection in Auction - What I learned today (@hermann-web)</title><link rel=stylesheet href=../../assets/stylesheets/main.10ba22f1.min.css><link rel=stylesheet href=../../assets/stylesheets/palette.06af60db.min.css><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback"><style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style><link rel=stylesheet href=../../css/timeago.css><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.7/katex.min.css><link rel=stylesheet href=../../stylesheets/float-img.css><script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script><script id=__analytics>function __md_analytics(){function n(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],n("js",new Date),n("config",""),document.addEventListener("DOMContentLoaded",function(){document.forms.search&&document.forms.search.query.addEventListener("blur",function(){this.value&&n("event","search",{search_term:this.value})}),document$.subscribe(function(){var a=document.forms.feedback;if(void 0!==a)for(var e of a.querySelectorAll("[type=submit]"))e.addEventListener("click",function(e){e.preventDefault();var t=document.location.pathname,e=this.getAttribute("data-md-value");n("event","feedback",{page:t,data:e}),a.firstElementChild.disabled=!0;e=a.querySelector(".md-feedback__note [data-md-value='"+e+"']");e&&(e.hidden=!1)}),a.hidden=!1}),location$.subscribe(function(e){n("config","",{page_path:e.pathname})})});var e=document.createElement("script");e.async=!0,e.src="https://www.googletagmanager.com/gtag/js?id=",document.getElementById("__analytics").insertAdjacentElement("afterEnd",e)}</script><script>"undefined"!=typeof __md_analytics&&__md_analytics()</script><link rel=stylesheet href=../../assets/stylesheets/custom.00c04c01.min.css><!-- <meta property="og:url" content="https://hermann-web.github.io/blog/projects/bot_detection_in_auction/" /> --><meta property=og:image content=https://hermann-web.github.io/web/assets/hermann-web.png><meta property=og:image:type content=image/png><meta property=og:image:width content=250><meta property=og:image:height content=250><script type=application/ld+json>
    {
      "@context": "https://schema.org",
      "@type": "WebSite",
      "name": "Hermann Agossou Personal Website",
      "url": "https://hermann-web.github.io",
      "description": "Welcome to Hermann Agossou's personal website and blog covering topics such as software development, devops, Python, networking, documentation, troubleshooting, and more.",
      "headline": "Hermann Agossou's Blog: Exploring Software and Technology",
      "author": {
        "@type": "Person",
        "name": "Hermann Agossou"
      },
      "image": {
        "@type": "ImageObject",
        "url": "https://hermann-web.github.io/web/assets/hermann-web.png",
        "width": 500,
        "height": 500
      },
      "potentialAction": {
        "@type": "SearchAction",
        "target": "https://hermann-web.github.io/web/blog?h={search_term_string}",
        "query-input": "required name=search_term_string"
      },
      // "sameAs": [
      //     "https://www.facebook.com/YourProfile",
      //     "https://twitter.com/YourProfile",
      //     "https://www.instagram.com/YourProfile",
      //     "https://www.linkedin.com/in/YourProfile"
      //   ],
      //  "blogPosts": [
      //         {
      //           "@type": "BlogPosting",
      //           "headline": "Blog Post 1 Title",
      //           "url": "https://yourwebsite.com/blog/post-1",
      //           "datePublished": "2023-01-01",
      //           "dateModified": "2023-01-05",
      //           "author": {
      //             "@type": "Person",
      //             "name": "Your Name"
      //           },
      //           "image": "https://yourwebsite.com/path/to/blog-post-1-image.png",
      //           "description": "Description of the blog post 1"
      //         },
      //         {
      //           "@type": "BlogPosting",
      //           "headline": "Blog Post 2 Title",
      //           "url": "https://yourwebsite.com/blog/post-2",
      //           "datePublished": "2023-02-01",
      //           "dateModified": "2023-02-05",
      //           "author": {
      //             "@type": "Person",
      //             "name": "Your Name"
      //           },
      //           "image": "https://yourwebsite.com/path/to/blog-post-2-image.png",
      //           "description": "Description of the blog post 2"
      //         }
      //         // Add more blog posts in a similar structure
      ]
    }    
  </script></head> <body dir=ltr data-md-color-scheme=default data-md-color-primary=indigo data-md-color-accent=indigo> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#detection-de-bot-dans-dans-les-encheres class=md-skip> Skip to content </a> </div> <div data-md-component=announce> <aside class=md-banner> <div class="md-banner__inner md-grid md-typeset"> <button class="md-banner__button md-icon" aria-label="Don't show this again"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg> </button> For updates follow <strong>@hermann-agossou</strong> on <a href=https://www.linkedin.com/in/agossou-hermann/ rel=me> <span class="twemoji twitter"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M100.28 448H7.4V148.9h92.88zM53.79 108.1C24.09 108.1 0 83.5 0 53.8a53.79 53.79 0 0 1 107.58 0c0 29.7-24.1 54.3-53.79 54.3zM447.9 448h-92.68V302.4c0-34.7-.7-79.2-48.29-79.2-48.29 0-55.69 37.7-55.69 76.7V448h-92.78V148.9h89.08v40.8h1.3c12.4-23.5 42.69-48.3 87.88-48.3 94 0 111.28 61.9 111.28 142.3V448z"/></svg> </span> <strong>Linkedin</strong> </a> and <a href=https://twitter.com/AgossouHermann> <span class="twemoji twitter"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 512 512"><!-- Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"/></svg> </span> <strong>Twitter</strong> </a> </div> <script>var content,el=document.querySelector("[data-md-component=announce]");el&&(content=el.querySelector(".md-typeset"),__md_hash(content.innerHTML)===__md_get("__announce")&&(el.hidden=!0))</script> </aside> </div> <header class=md-header data-md-component=header> <nav class="md-header__inner md-grid" aria-label=Header> <a href=../.. title="What I learned today (@hermann-web)" class="md-header__button md-logo" aria-label="What I learned today (@hermann-web)" data-md-component=logo> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 89 89"> <path d=M3.136,17.387l0,42.932l42.932,21.467l-42.932,-64.399Z /> <path d=M21.91,8l42.933,64.398l-18.775,9.388l-42.932,-64.399l18.774,-9.387Z style="fill-opacity: 0.5"/> <path d=M67.535,17.387l-27.262,18.156l21.878,32.818l5.384,2.691l0,-53.665Z /> <path d=M67.535,17.387l0,53.666l18.774,-9.388l0,-53.665l-18.774,9.387Z style="fill-opacity: 0.25"/> </svg> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> What I learned today (@hermann-web) </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> Bots Detection in Auction </span> </div> </div> </div> <form class=md-header__option data-md-component=palette> <input class=md-option data-md-color-media data-md-color-scheme=default data-md-color-primary=indigo data-md-color-accent=indigo aria-label="Switch to dark mode" type=radio name=__palette id=__palette_0> <label class="md-header__button md-icon" title="Switch to dark mode" for=__palette_1 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"/></svg> </label> <input class=md-option data-md-color-media data-md-color-scheme=slate data-md-color-primary=black data-md-color-accent=indigo aria-label="Switch to light mode" type=radio name=__palette id=__palette_1> <label class="md-header__button md-icon" title="Switch to light mode" for=__palette_0 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12c0-2.42-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"/></svg> </label> </form> <script>var media,input,key,value,palette=__md_get("__palette");if(palette&&palette.color){"(prefers-color-scheme)"===palette.color.media&&(media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']"),palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent"));for([key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg> </label> <nav class=md-search__options aria-label=Search> <a href=javascript:void(0) class="md-search__icon md-icon" title=Share aria-label=Share data-clipboard data-clipboard-text data-md-component=search-share tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7 0-.24-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91 1.61 0 2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08Z"/></svg> </a> <button type=reset class="md-search__icon md-icon" title=Clear aria-label=Clear tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg> </button> </nav> <div class=md-search__suggest data-md-component=search-suggest></div> </form> <div class=md-search__output> <div class=md-search__scrollwrap data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list role=presentation></ol> </div> </div> </div> </div> </div> <div class=md-header__source> <a href=https://github.com/hermann-web/blog/ title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg> </div> <div class=md-source__repository> hermann-web/blog </div> </a> </div> </nav> </header> <div class=md-container data-md-component=container> <nav class=md-tabs aria-label=Tabs data-md-component=tabs> <div class=md-grid> <ul class=md-tabs__list> <li class=md-tabs__item> <a href=../.. class=md-tabs__link> Home </a> </li> <li class="md-tabs__item md-tabs__item--active"> <a href=../ class=md-tabs__link> Projects </a> </li> <li class=md-tabs__item> <a href=../js-course/ class=md-tabs__link> The JavaScript Edge </a> </li> <li class=md-tabs__item> <a href=../../blog/ class=md-tabs__link> Blog </a> </li> </ul> </div> </nav> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary md-nav--lifted" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=../.. title="What I learned today (@hermann-web)" class="md-nav__button md-logo" aria-label="What I learned today (@hermann-web)" data-md-component=logo> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 89 89"> <path d=M3.136,17.387l0,42.932l42.932,21.467l-42.932,-64.399Z /> <path d=M21.91,8l42.933,64.398l-18.775,9.388l-42.932,-64.399l18.774,-9.387Z style="fill-opacity: 0.5"/> <path d=M67.535,17.387l-27.262,18.156l21.878,32.818l5.384,2.691l0,-53.665Z /> <path d=M67.535,17.387l0,53.666l18.774,-9.388l0,-53.665l-18.774,9.387Z style="fill-opacity: 0.25"/> </svg> </a> What I learned today (@hermann-web) </label> <div class=md-nav__source> <a href=https://github.com/hermann-web/blog/ title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg> </div> <div class=md-source__repository> hermann-web/blog </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../.. class=md-nav__link> <span class=md-ellipsis> Home </span> </a> </li> <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2 checked> <div class="md-nav__link md-nav__container"> <a href=../ class="md-nav__link "> <span class=md-ellipsis> Projects </span> </a> <label class="md-nav__link " for=__nav_2 id=__nav_2_label tabindex> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_2_label aria-expanded=true> <label class=md-nav__title for=__nav_2> <span class="md-nav__icon md-icon"></span> Projects </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> <span class=md-ellipsis> Bots Detection in Auction </span> <span class="md-nav__icon md-icon"></span> </label> <a href=./ class="md-nav__link md-nav__link--active"> <span class=md-ellipsis> Bots Detection in Auction </span> </a> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#objectif-general class=md-nav__link> <span class=md-ellipsis> Objectif général </span> </a> </li> <li class=md-nav__item> <a href=#comprehension-des-donnees class=md-nav__link> <span class=md-ellipsis> Compréhension des données </span> </a> </li> <li class=md-nav__item> <a href=#analyse-descriptive-et-selection-de-variables class=md-nav__link> <span class=md-ellipsis> Analyse descriptive et sélection de variables </span> </a> <nav class=md-nav aria-label="Analyse descriptive et sélection de variables"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#some-constants class=md-nav__link> <span class=md-ellipsis> some constants </span> </a> </li> <li class=md-nav__item> <a href=#load-data class=md-nav__link> <span class=md-ellipsis> Load data </span> </a> </li> <li class=md-nav__item> <a href=#preview class=md-nav__link> <span class=md-ellipsis> Preview </span> </a> </li> <li class=md-nav__item> <a href=#variable-a-predire class=md-nav__link> <span class=md-ellipsis> variable à prédire </span> </a> </li> <li class=md-nav__item> <a href=#description-des-champs-numeriques class=md-nav__link> <span class=md-ellipsis> Description des champs numériques </span> </a> </li> <li class=md-nav__item> <a href=#types-et-autres-informations class=md-nav__link> <span class=md-ellipsis> Types et autres informations </span> </a> <nav class=md-nav aria-label="Types et autres informations"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#description class=md-nav__link> <span class=md-ellipsis> Description </span> </a> </li> <li class=md-nav__item> <a href=#etude-de-la-variable-predictive class=md-nav__link> <span class=md-ellipsis> Etude de la variable prédictive </span> </a> </li> <li class=md-nav__item> <a href=#selection-des-variables class=md-nav__link> <span class=md-ellipsis> Sélection des variables </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#valeurs-nulles class=md-nav__link> <span class=md-ellipsis> Valeurs nulles </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#feature-engineering-visualisation-etou-test-des-hypotheses class=md-nav__link> <span class=md-ellipsis> Feature Engineering, Visualisation et/ou Test des Hypothèses </span> </a> <nav class=md-nav aria-label="Feature Engineering, Visualisation et/ou Test des Hypothèses"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#librairies-utiles class=md-nav__link> <span class=md-ellipsis> Librairies utiles </span> </a> </li> <li class=md-nav__item> <a href=#null-values-country class=md-nav__link> <span class=md-ellipsis> Null values (country) </span> </a> </li> <li class=md-nav__item> <a href=#transformation-ip class=md-nav__link> <span class=md-ellipsis> Transformation (ip) </span> </a> </li> <li class=md-nav__item> <a href=#normalisation-time class=md-nav__link> <span class=md-ellipsis> Normalisation (time) </span> </a> </li> <li class=md-nav__item> <a href=#visualisation-merchandise class=md-nav__link> <span class=md-ellipsis> Visualisation (Merchandise) </span> </a> </li> <li class=md-nav__item> <a href=#encoding-merchandise class=md-nav__link> <span class=md-ellipsis> Encoding (Merchandise) </span> </a> </li> <li class=md-nav__item> <a href=#country class=md-nav__link> <span class=md-ellipsis> country </span> </a> </li> <li class=md-nav__item> <a href=#groupage-par-bidder_id class=md-nav__link> <span class=md-ellipsis> Groupage par bidder_id </span> </a> </li> <li class=md-nav__item> <a href=#groupage-par-bidder_id-and-time class=md-nav__link> <span class=md-ellipsis> Groupage par bidder_id and time </span> </a> </li> <li class=md-nav__item> <a href=#normalisation-tous-les-features class=md-nav__link> <span class=md-ellipsis> Normalisation (tous les features) </span> </a> </li> <li class=md-nav__item> <a href=#binarization-on-continuous-features class=md-nav__link> <span class=md-ellipsis> Binarization (on continuous features) </span> </a> </li> <li class=md-nav__item> <a href=#resampling-techniques class=md-nav__link> <span class=md-ellipsis> Resampling Techniques </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#strategie-dentrainement class=md-nav__link> <span class=md-ellipsis> Stratégie d'entrainement </span> </a> <nav class=md-nav aria-label="Stratégie d'entrainement"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#split-train-test class=md-nav__link> <span class=md-ellipsis> Split train test </span> </a> </li> <li class=md-nav__item> <a href=#models class=md-nav__link> <span class=md-ellipsis> Models </span> </a> </li> <li class=md-nav__item> <a href=#choix-des-hyperparametres class=md-nav__link> <span class=md-ellipsis> Choix des hyperparamètres </span> </a> </li> <li class=md-nav__item> <a href=#selection-de-feature class=md-nav__link> <span class=md-ellipsis> Selection de feature? </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#metriques-de-validation class=md-nav__link> <span class=md-ellipsis> Métriques de validation </span> </a> </li> <li class=md-nav__item> <a href=#prediction class=md-nav__link> <span class=md-ellipsis> Prédiction </span> </a> <nav class=md-nav aria-label=Prédiction> <ul class=md-nav__list> <li class=md-nav__item> <a href=#librairies-utiles-pour-la-prediction class=md-nav__link> <span class=md-ellipsis> Librairies utiles pour la prédiction </span> </a> </li> <li class=md-nav__item> <a href=#demarche class=md-nav__link> <span class=md-ellipsis> Démarche </span> </a> </li> <li class=md-nav__item> <a href=#quelques-exemples class=md-nav__link> <span class=md-ellipsis> Quelques exemples </span> </a> </li> <li class=md-nav__item> <a href=#algorithmes class=md-nav__link> <span class=md-ellipsis> Algorithmes </span> </a> </li> <li class=md-nav__item> <a href=#configurations class=md-nav__link> <span class=md-ellipsis> Configurations </span> </a> </li> <li class=md-nav__item> <a href=#resultats class=md-nav__link> <span class=md-ellipsis> Résultats </span> </a> </li> <li class=md-nav__item> <a href=#comparaison-des-modeles class=md-nav__link> <span class=md-ellipsis> Comparaison des modèles </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#review class=md-nav__link> <span class=md-ellipsis> Review </span> </a> <nav class=md-nav aria-label=Review> <ul class=md-nav__list> <li class=md-nav__item> <a href=#overfitting class=md-nav__link> <span class=md-ellipsis> Overfitting </span> </a> </li> <li class=md-nav__item> <a href=#choix-techniques class=md-nav__link> <span class=md-ellipsis> Choix techniques </span> </a> </li> <li class=md-nav__item> <a href=#explicabilite-des-resultats class=md-nav__link> <span class=md-ellipsis> Explicabilité des résultats </span> </a> <nav class=md-nav aria-label="Explicabilité des résultats"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#regression-logistique class=md-nav__link> <span class=md-ellipsis> Régression Logistique </span> </a> </li> <li class=md-nav__item> <a href=#random-forest class=md-nav__link> <span class=md-ellipsis> Random Forest </span> </a> </li> <li class=md-nav__item> <a href=#random-forest-avec-moyenne-par-groupe class=md-nav__link> <span class=md-ellipsis> Random Forest (avec moyenne par groupe) </span> </a> </li> <li class=md-nav__item> <a href=#support-vecteur-machine class=md-nav__link> <span class=md-ellipsis> Support vecteur Machine </span> </a> </li> <li class=md-nav__item> <a href=#decision-tree class=md-nav__link> <span class=md-ellipsis> Decision Tree </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#discussion class=md-nav__link> <span class=md-ellipsis> Discussion </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#conclusion class=md-nav__link> <span class=md-ellipsis> Conclusion </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../search-engine-for-domain-specific-french-users/ class=md-nav__link> <span class=md-ellipsis> Search Engine in french </span> </a> </li> <li class=md-nav__item> <a href=../file-hosting-app/ class=md-nav__link> <span class=md-ellipsis> Flask based File Hosting (web app & api & python module & cli app) </span> </a> </li> <li class=md-nav__item> <a href=../image-to-latex-formula/ class=md-nav__link> <span class=md-ellipsis> Streamlit App for Formula OCR using pix2tex </span> </a> </li> <li class=md-nav__item> <a href=../introducing-two-new-packages-for-streamlining-file-conversions-in-python/ class=md-nav__link> <span class=md-ellipsis> Introducing Two New Packages for Streamlining File Conversions in Python </span> </a> </li> <li class=md-nav__item> <a href=../introducing-lissajou-for-animated-plots/ class=md-nav__link> <span class=md-ellipsis> Introducing the `lissajou` Package for Image and 2D/3D Plot Animation </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3> <div class="md-nav__link md-nav__container"> <a href=../js-course/ class="md-nav__link "> <span class=md-ellipsis> The JavaScript Edge </span> </a> <label class="md-nav__link " for=__nav_3 id=__nav_3_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_3_label aria-expanded=false> <label class=md-nav__title for=__nav_3> <span class="md-nav__icon md-icon"></span> The JavaScript Edge </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../js-course/javascript-fundamentals-simplified/ class=md-nav__link> <span class=md-ellipsis> JavaScript Syntax Fundamentals </span> </a> </li> <li class=md-nav__item> <a href=../js-course/javascript-concepts-intermediate/ class=md-nav__link> <span class=md-ellipsis> Intermediate JavaScript Concepts </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4> <div class="md-nav__link md-nav__container"> <a href=../../blog/ class="md-nav__link "> <span class=md-ellipsis> Blog </span> </a> <label class="md-nav__link " for=__nav_4 id=__nav_4_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_4_label aria-expanded=false> <label class=md-nav__title for=__nav_4> <span class="md-nav__icon md-icon"></span> Blog </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4_2> <label class=md-nav__link for=__nav_4_2 id=__nav_4_2_label tabindex=0> <span class=md-ellipsis> Archive </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_4_2_label aria-expanded=false> <label class=md-nav__title for=__nav_4_2> <span class="md-nav__icon md-icon"></span> Archive </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../blog/archive/2024/ class=md-nav__link> <span class=md-ellipsis> 2024 </span> </a> </li> <li class=md-nav__item> <a href=../../blog/archive/2023/ class=md-nav__link> <span class=md-ellipsis> 2023 </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4_3> <label class=md-nav__link for=__nav_4_3 id=__nav_4_3_label tabindex=0> <span class=md-ellipsis> Categories </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_4_3_label aria-expanded=false> <label class=md-nav__title for=__nav_4_3> <span class="md-nav__icon md-icon"></span> Categories </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../blog/category/authentication/ class=md-nav__link> <span class=md-ellipsis> Authentication </span> </a> </li> <li class=md-nav__item> <a href=../../blog/category/best-practices/ class=md-nav__link> <span class=md-ellipsis> Best Practices </span> </a> </li> <li class=md-nav__item> <a href=../../blog/category/blog/ class=md-nav__link> <span class=md-ellipsis> Blog </span> </a> </li> <li class=md-nav__item> <a href=../../blog/category/osx/ class=md-nav__link> <span class=md-ellipsis> OSX </span> </a> </li> <li class=md-nav__item> <a href=../../blog/category/rdp/ class=md-nav__link> <span class=md-ellipsis> RDP </span> </a> </li> <li class=md-nav__item> <a href=../../blog/category/security/ class=md-nav__link> <span class=md-ellipsis> Security </span> </a> </li> <li class=md-nav__item> <a href=../../blog/category/beginners/ class=md-nav__link> <span class=md-ellipsis> beginners </span> </a> </li> <li class=md-nav__item> <a href=../../blog/category/code-quality/ class=md-nav__link> <span class=md-ellipsis> code-quality </span> </a> </li> <li class=md-nav__item> <a href=../../blog/category/command-line/ class=md-nav__link> <span class=md-ellipsis> command-line </span> </a> </li> <li class=md-nav__item> <a href=../../blog/category/containers/ class=md-nav__link> <span class=md-ellipsis> containers </span> </a> </li> <li class=md-nav__item> <a href=../../blog/category/conversion-tools/ class=md-nav__link> <span class=md-ellipsis> conversion-tools </span> </a> </li> <li class=md-nav__item> <a href=../../blog/category/data/ class=md-nav__link> <span class=md-ellipsis> data </span> </a> </li> <li class=md-nav__item> <a href=../../blog/category/data-visualization/ class=md-nav__link> <span class=md-ellipsis> data-visualization </span> </a> </li> <li class=md-nav__item> <a href=../../blog/category/dependency-management/ class=md-nav__link> <span class=md-ellipsis> dependency-management </span> </a> </li> <li class=md-nav__item> <a href=../../blog/category/deployment/ class=md-nav__link> <span class=md-ellipsis> deployment </span> </a> </li> <li class=md-nav__item> <a href=../../blog/category/devops/ class=md-nav__link> <span class=md-ellipsis> devops </span> </a> </li> <li class=md-nav__item> <a href=../../blog/category/docker/ class=md-nav__link> <span class=md-ellipsis> docker </span> </a> </li> <li class=md-nav__item> <a href=../../blog/category/documentation/ class=md-nav__link> <span class=md-ellipsis> documentation </span> </a> </li> <li class=md-nav__item> <a href=../../blog/category/domain-migration/ class=md-nav__link> <span class=md-ellipsis> domain-migration </span> </a> </li> <li class=md-nav__item> <a href=../../blog/category/file-handling/ class=md-nav__link> <span class=md-ellipsis> file-handling </span> </a> </li> <li class=md-nav__item> <a href=../../blog/category/flask/ class=md-nav__link> <span class=md-ellipsis> flask </span> </a> </li> <li class=md-nav__item> <a href=../../blog/category/frameworks/ class=md-nav__link> <span class=md-ellipsis> frameworks </span> </a> </li> <li class=md-nav__item> <a href=../../blog/category/frontend/ class=md-nav__link> <span class=md-ellipsis> frontend </span> </a> </li> <li class=md-nav__item> <a href=../../blog/category/fullstack/ class=md-nav__link> <span class=md-ellipsis> fullstack </span> </a> </li> <li class=md-nav__item> <a href=../../blog/category/git/ class=md-nav__link> <span class=md-ellipsis> git </span> </a> </li> <li class=md-nav__item> <a href=../../blog/category/github-pages/ class=md-nav__link> <span class=md-ellipsis> github-pages </span> </a> </li> <li class=md-nav__item> <a href=../../blog/category/gprc/ class=md-nav__link> <span class=md-ellipsis> gprc </span> </a> </li> <li class=md-nav__item> <a href=../../blog/category/huggingface/ class=md-nav__link> <span class=md-ellipsis> huggingface </span> </a> </li> <li class=md-nav__item> <a href=../../blog/category/laravel/ class=md-nav__link> <span class=md-ellipsis> laravel </span> </a> </li> <li class=md-nav__item> <a href=../../blog/category/linux/ class=md-nav__link> <span class=md-ellipsis> linux </span> </a> </li> <li class=md-nav__item> <a href=../../blog/category/logging/ class=md-nav__link> <span class=md-ellipsis> logging </span> </a> </li> <li class=md-nav__item> <a href=../../blog/category/markdown/ class=md-nav__link> <span class=md-ellipsis> markdown </span> </a> </li> <li class=md-nav__item> <a href=../../blog/category/microservices/ class=md-nav__link> <span class=md-ellipsis> microservices </span> </a> </li> <li class=md-nav__item> <a href=../../blog/category/mkdocs/ class=md-nav__link> <span class=md-ellipsis> mkdocs </span> </a> </li> <li class=md-nav__item> <a href=../../blog/category/mongodb/ class=md-nav__link> <span class=md-ellipsis> mongodb </span> </a> </li> <li class=md-nav__item> <a href=../../blog/category/mysql/ class=md-nav__link> <span class=md-ellipsis> mysql </span> </a> </li> <li class=md-nav__item> <a href=../../blog/category/networking/ class=md-nav__link> <span class=md-ellipsis> networking </span> </a> </li> <li class=md-nav__item> <a href=../../blog/category/nodejs/ class=md-nav__link> <span class=md-ellipsis> nodejs </span> </a> </li> <li class=md-nav__item> <a href=../../blog/category/package-manager/ class=md-nav__link> <span class=md-ellipsis> package-manager </span> </a> </li> <li class=md-nav__item> <a href=../../blog/category/packaging/ class=md-nav__link> <span class=md-ellipsis> packaging </span> </a> </li> <li class=md-nav__item> <a href=../../blog/category/php/ class=md-nav__link> <span class=md-ellipsis> php </span> </a> </li> <li class=md-nav__item> <a href=../../blog/category/poetry/ class=md-nav__link> <span class=md-ellipsis> poetry </span> </a> </li> <li class=md-nav__item> <a href=../../blog/category/programming/ class=md-nav__link> <span class=md-ellipsis> programming </span> </a> </li> <li class=md-nav__item> <a href=../../blog/category/project-management/ class=md-nav__link> <span class=md-ellipsis> project-management </span> </a> </li> <li class=md-nav__item> <a href=../../blog/category/pwa/ class=md-nav__link> <span class=md-ellipsis> pwa </span> </a> </li> <li class=md-nav__item> <a href=../../blog/category/python/ class=md-nav__link> <span class=md-ellipsis> python </span> </a> </li> <li class=md-nav__item> <a href=../../blog/category/recovery/ class=md-nav__link> <span class=md-ellipsis> recovery </span> </a> </li> <li class=md-nav__item> <a href=../../blog/category/remote-access/ class=md-nav__link> <span class=md-ellipsis> remote-access </span> </a> </li> <li class=md-nav__item> <a href=../../blog/category/sgbd/ class=md-nav__link> <span class=md-ellipsis> sgbd </span> </a> </li> <li class=md-nav__item> <a href=../../blog/category/sphinx/ class=md-nav__link> <span class=md-ellipsis> sphinx </span> </a> </li> <li class=md-nav__item> <a href=../../blog/category/ssh/ class=md-nav__link> <span class=md-ellipsis> ssh </span> </a> </li> <li class=md-nav__item> <a href=../../blog/category/streamlit/ class=md-nav__link> <span class=md-ellipsis> streamlit </span> </a> </li> <li class=md-nav__item> <a href=../../blog/category/tools-comparison/ class=md-nav__link> <span class=md-ellipsis> tools-comparison </span> </a> </li> <li class=md-nav__item> <a href=../../blog/category/troubleshooting/ class=md-nav__link> <span class=md-ellipsis> troubleshooting </span> </a> </li> <li class=md-nav__item> <a href=../../blog/category/version-control/ class=md-nav__link> <span class=md-ellipsis> version-control </span> </a> </li> <li class=md-nav__item> <a href=../../blog/category/web/ class=md-nav__link> <span class=md-ellipsis> web </span> </a> </li> <li class=md-nav__item> <a href=../../blog/category/windows/ class=md-nav__link> <span class=md-ellipsis> windows </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#objectif-general class=md-nav__link> <span class=md-ellipsis> Objectif général </span> </a> </li> <li class=md-nav__item> <a href=#comprehension-des-donnees class=md-nav__link> <span class=md-ellipsis> Compréhension des données </span> </a> </li> <li class=md-nav__item> <a href=#analyse-descriptive-et-selection-de-variables class=md-nav__link> <span class=md-ellipsis> Analyse descriptive et sélection de variables </span> </a> <nav class=md-nav aria-label="Analyse descriptive et sélection de variables"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#some-constants class=md-nav__link> <span class=md-ellipsis> some constants </span> </a> </li> <li class=md-nav__item> <a href=#load-data class=md-nav__link> <span class=md-ellipsis> Load data </span> </a> </li> <li class=md-nav__item> <a href=#preview class=md-nav__link> <span class=md-ellipsis> Preview </span> </a> </li> <li class=md-nav__item> <a href=#variable-a-predire class=md-nav__link> <span class=md-ellipsis> variable à prédire </span> </a> </li> <li class=md-nav__item> <a href=#description-des-champs-numeriques class=md-nav__link> <span class=md-ellipsis> Description des champs numériques </span> </a> </li> <li class=md-nav__item> <a href=#types-et-autres-informations class=md-nav__link> <span class=md-ellipsis> Types et autres informations </span> </a> <nav class=md-nav aria-label="Types et autres informations"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#description class=md-nav__link> <span class=md-ellipsis> Description </span> </a> </li> <li class=md-nav__item> <a href=#etude-de-la-variable-predictive class=md-nav__link> <span class=md-ellipsis> Etude de la variable prédictive </span> </a> </li> <li class=md-nav__item> <a href=#selection-des-variables class=md-nav__link> <span class=md-ellipsis> Sélection des variables </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#valeurs-nulles class=md-nav__link> <span class=md-ellipsis> Valeurs nulles </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#feature-engineering-visualisation-etou-test-des-hypotheses class=md-nav__link> <span class=md-ellipsis> Feature Engineering, Visualisation et/ou Test des Hypothèses </span> </a> <nav class=md-nav aria-label="Feature Engineering, Visualisation et/ou Test des Hypothèses"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#librairies-utiles class=md-nav__link> <span class=md-ellipsis> Librairies utiles </span> </a> </li> <li class=md-nav__item> <a href=#null-values-country class=md-nav__link> <span class=md-ellipsis> Null values (country) </span> </a> </li> <li class=md-nav__item> <a href=#transformation-ip class=md-nav__link> <span class=md-ellipsis> Transformation (ip) </span> </a> </li> <li class=md-nav__item> <a href=#normalisation-time class=md-nav__link> <span class=md-ellipsis> Normalisation (time) </span> </a> </li> <li class=md-nav__item> <a href=#visualisation-merchandise class=md-nav__link> <span class=md-ellipsis> Visualisation (Merchandise) </span> </a> </li> <li class=md-nav__item> <a href=#encoding-merchandise class=md-nav__link> <span class=md-ellipsis> Encoding (Merchandise) </span> </a> </li> <li class=md-nav__item> <a href=#country class=md-nav__link> <span class=md-ellipsis> country </span> </a> </li> <li class=md-nav__item> <a href=#groupage-par-bidder_id class=md-nav__link> <span class=md-ellipsis> Groupage par bidder_id </span> </a> </li> <li class=md-nav__item> <a href=#groupage-par-bidder_id-and-time class=md-nav__link> <span class=md-ellipsis> Groupage par bidder_id and time </span> </a> </li> <li class=md-nav__item> <a href=#normalisation-tous-les-features class=md-nav__link> <span class=md-ellipsis> Normalisation (tous les features) </span> </a> </li> <li class=md-nav__item> <a href=#binarization-on-continuous-features class=md-nav__link> <span class=md-ellipsis> Binarization (on continuous features) </span> </a> </li> <li class=md-nav__item> <a href=#resampling-techniques class=md-nav__link> <span class=md-ellipsis> Resampling Techniques </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#strategie-dentrainement class=md-nav__link> <span class=md-ellipsis> Stratégie d'entrainement </span> </a> <nav class=md-nav aria-label="Stratégie d'entrainement"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#split-train-test class=md-nav__link> <span class=md-ellipsis> Split train test </span> </a> </li> <li class=md-nav__item> <a href=#models class=md-nav__link> <span class=md-ellipsis> Models </span> </a> </li> <li class=md-nav__item> <a href=#choix-des-hyperparametres class=md-nav__link> <span class=md-ellipsis> Choix des hyperparamètres </span> </a> </li> <li class=md-nav__item> <a href=#selection-de-feature class=md-nav__link> <span class=md-ellipsis> Selection de feature? </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#metriques-de-validation class=md-nav__link> <span class=md-ellipsis> Métriques de validation </span> </a> </li> <li class=md-nav__item> <a href=#prediction class=md-nav__link> <span class=md-ellipsis> Prédiction </span> </a> <nav class=md-nav aria-label=Prédiction> <ul class=md-nav__list> <li class=md-nav__item> <a href=#librairies-utiles-pour-la-prediction class=md-nav__link> <span class=md-ellipsis> Librairies utiles pour la prédiction </span> </a> </li> <li class=md-nav__item> <a href=#demarche class=md-nav__link> <span class=md-ellipsis> Démarche </span> </a> </li> <li class=md-nav__item> <a href=#quelques-exemples class=md-nav__link> <span class=md-ellipsis> Quelques exemples </span> </a> </li> <li class=md-nav__item> <a href=#algorithmes class=md-nav__link> <span class=md-ellipsis> Algorithmes </span> </a> </li> <li class=md-nav__item> <a href=#configurations class=md-nav__link> <span class=md-ellipsis> Configurations </span> </a> </li> <li class=md-nav__item> <a href=#resultats class=md-nav__link> <span class=md-ellipsis> Résultats </span> </a> </li> <li class=md-nav__item> <a href=#comparaison-des-modeles class=md-nav__link> <span class=md-ellipsis> Comparaison des modèles </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#review class=md-nav__link> <span class=md-ellipsis> Review </span> </a> <nav class=md-nav aria-label=Review> <ul class=md-nav__list> <li class=md-nav__item> <a href=#overfitting class=md-nav__link> <span class=md-ellipsis> Overfitting </span> </a> </li> <li class=md-nav__item> <a href=#choix-techniques class=md-nav__link> <span class=md-ellipsis> Choix techniques </span> </a> </li> <li class=md-nav__item> <a href=#explicabilite-des-resultats class=md-nav__link> <span class=md-ellipsis> Explicabilité des résultats </span> </a> <nav class=md-nav aria-label="Explicabilité des résultats"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#regression-logistique class=md-nav__link> <span class=md-ellipsis> Régression Logistique </span> </a> </li> <li class=md-nav__item> <a href=#random-forest class=md-nav__link> <span class=md-ellipsis> Random Forest </span> </a> </li> <li class=md-nav__item> <a href=#random-forest-avec-moyenne-par-groupe class=md-nav__link> <span class=md-ellipsis> Random Forest (avec moyenne par groupe) </span> </a> </li> <li class=md-nav__item> <a href=#support-vecteur-machine class=md-nav__link> <span class=md-ellipsis> Support vecteur Machine </span> </a> </li> <li class=md-nav__item> <a href=#decision-tree class=md-nav__link> <span class=md-ellipsis> Decision Tree </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#discussion class=md-nav__link> <span class=md-ellipsis> Discussion </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#conclusion class=md-nav__link> <span class=md-ellipsis> Conclusion </span> </a> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <article class="md-content__inner md-typeset"> <a href=https://github.com/hermann-web/blog/edit/master/docs/projects/bot_detection_in_auction.md title="Edit this page" class="md-content__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M10 20H6V4h7v5h5v3.1l2-2V8l-6-6H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h4v-2m10.2-7c.1 0 .3.1.4.2l1.3 1.3c.2.2.2.6 0 .8l-1 1-2.1-2.1 1-1c.1-.1.2-.2.4-.2m0 3.9L14.1 23H12v-2.1l6.1-6.1 2.1 2.1Z"/></svg> </a> <a href=https://github.com/hermann-web/blog/raw/master/docs/projects/bot_detection_in_auction.md title="View source of this page" class="md-content__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M17 18c.56 0 1 .44 1 1s-.44 1-1 1-1-.44-1-1 .44-1 1-1m0-3c-2.73 0-5.06 1.66-6 4 .94 2.34 3.27 4 6 4s5.06-1.66 6-4c-.94-2.34-3.27-4-6-4m0 6.5a2.5 2.5 0 0 1-2.5-2.5 2.5 2.5 0 0 1 2.5-2.5 2.5 2.5 0 0 1 2.5 2.5 2.5 2.5 0 0 1-2.5 2.5M9.27 20H6V4h7v5h5v4.07c.7.08 1.36.25 2 .49V8l-6-6H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h4.5a8.15 8.15 0 0 1-1.23-2Z"/></svg> </a> <h1 id=detection-de-bot-dans-dans-les-encheres>Détection de bot dans dans les enchères<a class=headerlink href=#detection-de-bot-dans-dans-les-encheres title="Permanent link">&para;</a></h1> <p><img alt="street view with city buildings, market and street sings" src=../media/bot_detection_in_auction/image1.jpeg></p> <h2 id=objectif-general>Objectif général<a class=headerlink href=#objectif-general title="Permanent link">&para;</a></h2> <p>Notre objectif général est d\'étudier un « dataset » issu d\'une plateforme d\'enchères publicitaires pour pouvoir prédire si l'agent qui a émis des enchères est un humain ou un robot. A partir d'une analyse bien approfondie de diverses données concernant les transactions effectuées notamment les outils numériques utilisés, les temps de ces transactions et bien d'autres « features », nous allons développer un modèle de classification capable de prédire la variable binaire « outcome » de telle sorte que 0 désigne <code>humain</code> et 1, <code>robot</code>. En outre, nous visons à travers ce projet à minimiser le taux des faux négatifs (prédire que l'agent est un humain, alors qu'il est un robot) et donc augmenter comme métrique le « recall » pour éviter toute sorte de fraude. Enfin, nous allons choisir au maximum 5 variables pour notre modélisation.</p> <h2 id=comprehension-des-donnees>Compréhension des données<a class=headerlink href=#comprehension-des-donnees title="Permanent link">&para;</a></h2> <p>La base de données fournie contient des informations sur les soumissionnaires de l'enchère et sur l'enchère. Les features donnés sont expliqués ci-dessous :</p> <div class="admonition output"> <p class=admonition-title>Output</p> <div class="language-markdown highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a>| <span class=gs>**Feature**</span>         | <span class=gs>**Explication**</span>                                                |
</span><span id=__span-0-2><a id=__codelineno-0-2 name=__codelineno-0-2 href=#__codelineno-0-2></a>|---------------------|---------------------------------------------------------------|
</span><span id=__span-0-3><a id=__codelineno-0-3 name=__codelineno-0-3 href=#__codelineno-0-3></a>| Bidder_id           | Un identifiant unique pour le soumissionnaire                  |
</span><span id=__span-0-4><a id=__codelineno-0-4 name=__codelineno-0-4 href=#__codelineno-0-4></a>| Bid_id              | Un identifiant unique de l&#39;offre fait par le soumissionnaire   |
</span><span id=__span-0-5><a id=__codelineno-0-5 name=__codelineno-0-5 href=#__codelineno-0-5></a>| Auction             | Un identifiant unique de l&#39;enchère (l&#39;offre publique)          |
</span><span id=__span-0-6><a id=__codelineno-0-6 name=__codelineno-0-6 href=#__codelineno-0-6></a>| Merchandise         | La catégorie du produit/offre                                  |
</span><span id=__span-0-7><a id=__codelineno-0-7 name=__codelineno-0-7 href=#__codelineno-0-7></a>| Device              | Modèle de téléphone d&#39;un visiteur                              |
</span><span id=__span-0-8><a id=__codelineno-0-8 name=__codelineno-0-8 href=#__codelineno-0-8></a>| Time                | Temps à lequel la transaction a été faite pour l&#39;enchère      |
</span><span id=__span-0-9><a id=__codelineno-0-9 name=__codelineno-0-9 href=#__codelineno-0-9></a>| Country             | Le pays auquel appartient l&#39;IP                                 |
</span><span id=__span-0-10><a id=__codelineno-0-10 name=__codelineno-0-10 href=#__codelineno-0-10></a>| IP                  | Adresse IP de l&#39;enrichisseur                                   |
</span><span id=__span-0-11><a id=__codelineno-0-11 name=__codelineno-0-11 href=#__codelineno-0-11></a>| Url                 | Le site à partir duquel l&#39;enrichisseur a été référé            |
</span><span id=__span-0-12><a id=__codelineno-0-12 name=__codelineno-0-12 href=#__codelineno-0-12></a>| Payment_account     | Le compte à partir duquel l&#39;enrichisseur a payé                |
</span><span id=__span-0-13><a id=__codelineno-0-13 name=__codelineno-0-13 href=#__codelineno-0-13></a>| Address             | L&#39;adresse de l&#39;enrichisseur                                    |
</span><span id=__span-0-14><a id=__codelineno-0-14 name=__codelineno-0-14 href=#__codelineno-0-14></a>| Outcome             | 1 si robot, 0 si homme                                         |
</span></code></pre></div> </div> <h2 id=analyse-descriptive-et-selection-de-variables>Analyse descriptive et sélection de variables<a class=headerlink href=#analyse-descriptive-et-selection-de-variables title="Permanent link">&para;</a></h2> <h3 id=some-constants><strong>some constants</strong><a class=headerlink href=#some-constants title="Permanent link">&para;</a></h3> <div class="language-python highlight"><pre><span></span><code><span id=__span-1-1><a id=__codelineno-1-1 name=__codelineno-1-1 href=#__codelineno-1-1></a><span class=n>TARGET_COL</span> <span class=o>=</span> <span class=s2>&quot;outcome&quot;</span>
</span><span id=__span-1-2><a id=__codelineno-1-2 name=__codelineno-1-2 href=#__codelineno-1-2></a><span class=n>REMOVE_EVIDENT_MERCHANDISE</span> <span class=o>=</span> <span class=kc>False</span>
</span><span id=__span-1-3><a id=__codelineno-1-3 name=__codelineno-1-3 href=#__codelineno-1-3></a><span class=n>FILE_VERSION</span> <span class=o>=</span> <span class=s2>&quot;v7&quot;</span>
</span><span id=__span-1-4><a id=__codelineno-1-4 name=__codelineno-1-4 href=#__codelineno-1-4></a><span class=n>PROD_INSTEAD_OF_SUM</span> <span class=o>=</span>  <span class=kc>True</span>
</span><span id=__span-1-5><a id=__codelineno-1-5 name=__codelineno-1-5 href=#__codelineno-1-5></a><span class=n>ADD_LEN_TO_GROUPBY</span> <span class=o>=</span> <span class=kc>True</span>
</span><span id=__span-1-6><a id=__codelineno-1-6 name=__codelineno-1-6 href=#__codelineno-1-6></a><span class=c1>#prod+nolen &lt; prod+len</span>
</span></code></pre></div> <h3 id=load-data><strong>Load data</strong><a class=headerlink href=#load-data title="Permanent link">&para;</a></h3> <div class="language-python highlight"><pre><span></span><code><span id=__span-2-1><a id=__codelineno-2-1 name=__codelineno-2-1 href=#__codelineno-2-1></a><span class=n>df</span> <span class=o>=</span> <span class=n>pd</span><span class=o>.</span><span class=n>read_csv</span><span class=p>(</span><span class=s2>&quot;Projet_ML.csv&quot;</span><span class=p>)</span>
</span></code></pre></div> <div class="language-python highlight"><pre><span></span><code><span id=__span-3-1><a id=__codelineno-3-1 name=__codelineno-3-1 href=#__codelineno-3-1></a><span class=n>df</span><span class=o>.</span><span class=n>bidder_id</span><span class=o>.</span><span class=n>nunique</span><span class=p>()</span>
</span></code></pre></div> <div class="language-text highlight"><pre><span></span><code><span id=__span-4-1><a id=__codelineno-4-1 name=__codelineno-4-1 href=#__codelineno-4-1></a>87
</span></code></pre></div> <h3 id=preview><strong>Preview</strong><a class=headerlink href=#preview title="Permanent link">&para;</a></h3> <p>Voici un aperçu de la dataset :</p> <div class="language-python highlight"><pre><span></span><code><span id=__span-5-1><a id=__codelineno-5-1 name=__codelineno-5-1 href=#__codelineno-5-1></a><span class=n>df</span>
</span></code></pre></div> <details class=output> <summary>Output</summary> <div class="language-markdown highlight"><pre><span></span><code><span id=__span-6-1><a id=__codelineno-6-1 name=__codelineno-6-1 href=#__codelineno-6-1></a>| bidder_id                              | bid_id  | auction | merchandise       | device    | time          | country | ip              | url            | payment_account                      | address                             | outcome |
</span><span id=__span-6-2><a id=__codelineno-6-2 name=__codelineno-6-2 href=#__codelineno-6-2></a>|----------------------------------------|---------|---------|-------------------|-----------|---------------|---------|-----------------|----------------|--------------------------------------|-------------------------------------|---------|
</span><span id=__span-6-3><a id=__codelineno-6-3 name=__codelineno-6-3 href=#__codelineno-6-3></a>| 001068c415025a009fee375a12cff4fcnht8y | 7179832 | 4ifac   | jewelry           | phone561  | 5.140996e-308 | bn      | 139.226.147.115 | vasstdc27m7nks3 | a3d2de7675556553a5f08e4c88d2c228iiasc | a3d2de7675556553a5f08e4c88d2c2282aj35 | 0       |
</span><span id=__span-6-4><a id=__codelineno-6-4 name=__codelineno-6-4 href=#__codelineno-6-4></a>| 0030a2dd87ad2733e0873062e4f83954mkj86 | 6805028 | obbny   | mobile            | phone313  | 5.139226e-308 | ir      | 21.67.17.162    | vnw40k8zzokijsv | a3d2de7675556553a5f08e4c88d2c228jem8t | f3bc67b04b43c3cebd1db5ed4941874c9br67 | 0       |
</span><span id=__span-6-5><a id=__codelineno-6-5 name=__codelineno-6-5 href=#__codelineno-6-5></a>| 00a0517965f18610417ee784a05f494d4dw6e | 2501797 | l3o6q   | books and music   | phone451  | 5.067829e-308 | bh      | 103.165.41.136  | kk7rxe25ehseyci | 52743ba515e9c1279ac76e19f00c0b001p3pm | 7578f951008bd0b64528bf81b8578d5djy0uy | 0       |
</span><span id=__span-6-6><a id=__codelineno-6-6 name=__codelineno-6-6 href=#__codelineno-6-6></a>| 00a0517965f18610417ee784a05f494d4dw6e | 2724778 | du967   | books and music   | phone117  | 5.068704e-308 | tr      | 239.250.228.152 | iu2iu3k137vakme | 52743ba515e9c1279ac76e19f00c0b001p3pm | 7578f951008bd0b64528bf81b8578d5djy0uy | 0       |
</span><span id=__span-6-7><a id=__codelineno-6-7 name=__codelineno-6-7 href=#__codelineno-6-7></a>| 00a0517965f18610417ee784a05f494d4dw6e | 2742648 | wx3kf   | books and music   | phone16   | 5.068805e-308 | in      | 255.108.248.101 | u85yj2e7owkz6xp | 52743ba515e9c1279ac76e19f00c0b001p3pm | 7578f951008bd0b64528bf81b8578d5djy0uy | 0       |
</span><span id=__span-6-8><a id=__codelineno-6-8 name=__codelineno-6-8 href=#__codelineno-6-8></a>| ...                                    | ...     | ...     | ...               | ...       | ...           | ...     | ...             | ...            | ...                                  | ...                                 | ...     |
</span><span id=__span-6-9><a id=__codelineno-6-9 name=__codelineno-6-9 href=#__codelineno-6-9></a>| 0ad17aa9111f657d71cd3005599afc24fd44y | 1411172 | toxfq   | mobile            | phone1036 | 5.201503e-308 | in      | 186.94.48.203   | vasstdc27m7nks3 | 22cdb26663f071c00de61cc2dcde7b556rido | db147bf6056d00428b1bbf250c6e97594ewjy | 1       |
</span><span id=__span-6-10><a id=__codelineno-6-10 name=__codelineno-6-10 href=#__codelineno-6-10></a>| 0ad17aa9111f657d71cd3005599afc24fd44y | 1411587 | ucb4u   | mobile            | phone127  | 5.201506e-308 | in      | 119.27.26.126   | vasstdc27m7nks3 | 22cdb26663f071c00de61cc2dcde7b556rido | db147bf6056d00428b1bbf250c6e97594ewjy | 1       |
</span><span id=__span-6-11><a id=__codelineno-6-11 name=__codelineno-6-11 href=#__codelineno-6-11></a>| 0ad17aa9111f657d71cd3005599afc24fd44y | 1411727 | sg8yd   | mobile            | phone383  | 5.201507e-308 | in      | 243.25.54.63    | yweo7wfejrgbi2d | 22cdb26663f071c00de61cc2dcde7b556rido | db147bf6056d00428b1bbf250c6e97594ewjy | 1       |
</span><span id=__span-6-12><a id=__codelineno-6-12 name=__codelineno-6-12 href=#__codelineno-6-12></a>| 0ad17aa9111f657d71cd3005599afc24fd44y | 1411877 | toaj7   | mobile            | phone26   | 5.201508e-308 | in      | 17.66.120.232   | 4dd8ei0o5oqsua3 | 22cdb26663f071c00de61cc2dcde7b556rido | db147bf6056d00428b1bbf250c6e97594ewjy | 1       |
</span><span id=__span-6-13><a id=__codelineno-6-13 name=__codelineno-6-13 href=#__codelineno-6-13></a>| 0ad17aa9111f657d71cd3005599afc24fd44y | 1412085 | 07axb   | mobile            | phone25   | 5.201509e-308 | in      | 64.30.57.156    | 8zdkeqk4yby6lz2 | 22cdb26663f071c00de61cc2dcde7b556rido | db147bf6056d00428b1bbf250c6e97594ewjy | 1       |
</span></code></pre></div> </details> <h3 id=variable-a-predire>variable à prédire<a class=headerlink href=#variable-a-predire title="Permanent link">&para;</a></h3> <div class="language-python highlight"><pre><span></span><code><span id=__span-7-1><a id=__codelineno-7-1 name=__codelineno-7-1 href=#__codelineno-7-1></a><span class=n>df</span><span class=p>[</span><span class=n>TARGET_COL</span><span class=p>]</span><span class=o>.</span><span class=n>value_counts</span><span class=p>()</span>
</span></code></pre></div> <p>0 90877 1 9123 Name: outcome, dtype: int64</p> <p>c'est une classification binaire</p> <h3 id=description-des-champs-numeriques><strong>Description des champs numériques</strong><a class=headerlink href=#description-des-champs-numeriques title="Permanent link">&para;</a></h3> <div class="language-python highlight"><pre><span></span><code><span id=__span-8-1><a id=__codelineno-8-1 name=__codelineno-8-1 href=#__codelineno-8-1></a><span class=n>df</span><span class=o>.</span><span class=n>info</span><span class=p>()</span>
</span></code></pre></div> <div class="admonition output"> <p class=admonition-title>Output</p> <div class="language-markdown highlight"><pre><span></span><code><span id=__span-9-1><a id=__codelineno-9-1 name=__codelineno-9-1 href=#__codelineno-9-1></a>&lt;class &#39;pandas.core.frame.DataFrame&#39;&gt;
</span><span id=__span-9-2><a id=__codelineno-9-2 name=__codelineno-9-2 href=#__codelineno-9-2></a>RangeIndex: 100000 entries, 0 to 99999
</span><span id=__span-9-3><a id=__codelineno-9-3 name=__codelineno-9-3 href=#__codelineno-9-3></a>Data columns (total 12 columns):
</span><span id=__span-9-4><a id=__codelineno-9-4 name=__codelineno-9-4 href=#__codelineno-9-4></a>
</span><span id=__span-9-5><a id=__codelineno-9-5 name=__codelineno-9-5 href=#__codelineno-9-5></a><span class=gu>## Column           Non-Null Count   Dtype  </span>
</span><span id=__span-9-6><a id=__codelineno-9-6 name=__codelineno-9-6 href=#__codelineno-9-6></a>
</span><span id=__span-9-7><a id=__codelineno-9-7 name=__codelineno-9-7 href=#__codelineno-9-7></a>---  ------           --------------   -----  
</span><span id=__span-9-8><a id=__codelineno-9-8 name=__codelineno-9-8 href=#__codelineno-9-8></a>0   bidder_id        100000 non-null  object
</span><span id=__span-9-9><a id=__codelineno-9-9 name=__codelineno-9-9 href=#__codelineno-9-9></a>1   bid_id           100000 non-null  int64  
</span><span id=__span-9-10><a id=__codelineno-9-10 name=__codelineno-9-10 href=#__codelineno-9-10></a>2   auction          100000 non-null  object
</span><span id=__span-9-11><a id=__codelineno-9-11 name=__codelineno-9-11 href=#__codelineno-9-11></a>3   merchandise      100000 non-null  object
</span><span id=__span-9-12><a id=__codelineno-9-12 name=__codelineno-9-12 href=#__codelineno-9-12></a>4   device           100000 non-null  object
</span><span id=__span-9-13><a id=__codelineno-9-13 name=__codelineno-9-13 href=#__codelineno-9-13></a>5   time             100000 non-null  float64
</span><span id=__span-9-14><a id=__codelineno-9-14 name=__codelineno-9-14 href=#__codelineno-9-14></a>6   country          99816 non-null   object
</span><span id=__span-9-15><a id=__codelineno-9-15 name=__codelineno-9-15 href=#__codelineno-9-15></a>7   ip               100000 non-null  object
</span><span id=__span-9-16><a id=__codelineno-9-16 name=__codelineno-9-16 href=#__codelineno-9-16></a>8   url              100000 non-null  object
</span><span id=__span-9-17><a id=__codelineno-9-17 name=__codelineno-9-17 href=#__codelineno-9-17></a>9   payment_account  100000 non-null  object
</span><span id=__span-9-18><a id=__codelineno-9-18 name=__codelineno-9-18 href=#__codelineno-9-18></a>10  address          100000 non-null  object
</span><span id=__span-9-19><a id=__codelineno-9-19 name=__codelineno-9-19 href=#__codelineno-9-19></a>11  outcome          100000 non-null  int64  
</span><span id=__span-9-20><a id=__codelineno-9-20 name=__codelineno-9-20 href=#__codelineno-9-20></a>dtypes: float64(1), int64(2), object(9)
</span><span id=__span-9-21><a id=__codelineno-9-21 name=__codelineno-9-21 href=#__codelineno-9-21></a>memory usage: 9.2+ MB
</span></code></pre></div> </div> <p>On a près de 200 cellules vides dans country. on verra ça après</p> <h3 id=types-et-autres-informations><strong>Types et autres informations</strong><a class=headerlink href=#types-et-autres-informations title="Permanent link">&para;</a></h3> <p>Le dataset contient 12 colonnes et 100.000 lignes.</p> <h4 id=description><strong>Description</strong><a class=headerlink href=#description title="Permanent link">&para;</a></h4> <p>L'image ci-dessous présente plusieurs caractéristiques de chaque champ de la table</p> <ul> <li> <p>dtype : type de la variable (int64 pour les entiers, float64 pour les nombres, object pour les champs textes ou non-identifiés)</p> </li> <li> <p>nunique : nombre de valeurs uniques que prends cette variable</p> </li> <li> <p>nunique(%) : proportion des valeurs uniques que prends cette variable par rapport au nombre de lignes dans la table</p> </li> <li> <p>nunique_per_bid&gt;1(%) : nombre de « bidder_id » qui présentes plusieurs valeurs différentes pour cette variable.</p> </li> <li> <p>is_cat: 1 si la variable peut être considérée categorielle (ici, moins de 10 valeurs uniques) 0 sinon</p> </li> </ul> <details class=code> <summary>get_cols_info</summary> <div class="language-python highlight"><pre><span></span><code><span id=__span-10-1><a id=__codelineno-10-1 name=__codelineno-10-1 href=#__codelineno-10-1></a><span class=kn>from</span> <span class=nn>math</span> <span class=kn>import</span> <span class=n>ceil</span>
</span><span id=__span-10-2><a id=__codelineno-10-2 name=__codelineno-10-2 href=#__codelineno-10-2></a>
</span><span id=__span-10-3><a id=__codelineno-10-3 name=__codelineno-10-3 href=#__codelineno-10-3></a><span class=k>def</span> <span class=nf>get_cols_info</span><span class=p>(</span><span class=n>df</span><span class=p>,</span> <span class=n>index_col</span><span class=o>=</span><span class=kc>None</span><span class=p>):</span>
</span><span id=__span-10-4><a id=__codelineno-10-4 name=__codelineno-10-4 href=#__codelineno-10-4></a>  <span class=nb>print</span><span class=p>(</span><span class=s2>&quot;&gt;&gt;&gt; df.shape= &quot;</span><span class=p>,</span> <span class=n>df</span><span class=o>.</span><span class=n>shape</span><span class=p>)</span>
</span><span id=__span-10-5><a id=__codelineno-10-5 name=__codelineno-10-5 href=#__codelineno-10-5></a>  <span class=nb>print</span><span class=p>(</span><span class=s2>&quot;</span><span class=se>\n</span><span class=s2>&gt;&gt;&gt; df.info= &quot;</span><span class=p>)</span>
</span><span id=__span-10-6><a id=__codelineno-10-6 name=__codelineno-10-6 href=#__codelineno-10-6></a>  <span class=n>df</span><span class=o>.</span><span class=n>info</span><span class=p>()</span>
</span><span id=__span-10-7><a id=__codelineno-10-7 name=__codelineno-10-7 href=#__codelineno-10-7></a>  <span class=n>dd</span> <span class=o>=</span> <span class=p>{</span><span class=s2>&quot;col&quot;</span><span class=p>:[],</span><span class=s2>&quot;dtype&quot;</span><span class=p>:[],</span><span class=s2>&quot;nunique&quot;</span><span class=p>:[],</span><span class=s2>&quot;nunique(%)&quot;</span><span class=p>:[],</span><span class=s2>&quot;nunique_per_bid&gt;1(%)&quot;</span><span class=p>:[],</span><span class=s2>&quot;is_cat&quot;</span><span class=p>:[]}</span>
</span><span id=__span-10-8><a id=__codelineno-10-8 name=__codelineno-10-8 href=#__codelineno-10-8></a>  <span class=k>for</span> <span class=n>elt</span> <span class=ow>in</span> <span class=n>df</span><span class=o>.</span><span class=n>columns</span><span class=p>:</span>
</span><span id=__span-10-9><a id=__codelineno-10-9 name=__codelineno-10-9 href=#__codelineno-10-9></a>  <span class=n>dd</span><span class=p>[</span><span class=s2>&quot;col&quot;</span><span class=p>]</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>elt</span><span class=p>)</span>
</span><span id=__span-10-10><a id=__codelineno-10-10 name=__codelineno-10-10 href=#__codelineno-10-10></a>  <span class=n>dd</span><span class=p>[</span><span class=s2>&quot;nunique&quot;</span><span class=p>]</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>df</span><span class=p>[</span><span class=n>elt</span><span class=p>]</span><span class=o>.</span><span class=n>nunique</span><span class=p>())</span>
</span><span id=__span-10-11><a id=__codelineno-10-11 name=__codelineno-10-11 href=#__codelineno-10-11></a>  <span class=n>dd</span><span class=p>[</span><span class=s2>&quot;nunique(%)&quot;</span><span class=p>]</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=mf>0.1</span><span class=o>*</span><span class=n>ceil</span><span class=p>(</span><span class=mi>10</span><span class=o>*</span><span class=mi>100</span><span class=o>*</span><span class=n>df</span><span class=p>[</span><span class=n>elt</span><span class=p>]</span><span class=o>.</span><span class=n>nunique</span><span class=p>()</span><span class=o>/</span><span class=nb>len</span><span class=p>(</span><span class=n>df</span><span class=p>)))</span>
</span><span id=__span-10-12><a id=__codelineno-10-12 name=__codelineno-10-12 href=#__codelineno-10-12></a>  <span class=n>dd</span><span class=p>[</span><span class=s2>&quot;dtype&quot;</span><span class=p>]</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>df</span><span class=p>[</span><span class=n>elt</span><span class=p>]</span><span class=o>.</span><span class=n>dtype</span><span class=p>)</span>
</span><span id=__span-10-13><a id=__codelineno-10-13 name=__codelineno-10-13 href=#__codelineno-10-13></a>  <span class=n>dd</span><span class=p>[</span><span class=s2>&quot;is_cat&quot;</span><span class=p>]</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=nb>int</span><span class=p>(</span><span class=n>df</span><span class=p>[</span><span class=n>elt</span><span class=p>]</span><span class=o>.</span><span class=n>nunique</span><span class=p>()</span><span class=o>&lt;</span><span class=mi>10</span><span class=p>))</span>
</span><span id=__span-10-14><a id=__codelineno-10-14 name=__codelineno-10-14 href=#__codelineno-10-14></a>  <span class=k>if</span> <span class=n>index_col</span><span class=p>:</span> <span class=n>dd</span><span class=p>[</span><span class=s2>&quot;nunique_per_bid&gt;1(%)&quot;</span><span class=p>]</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=mf>0.1</span><span class=o>*</span><span class=n>ceil</span><span class=p>(</span><span class=mi>10</span><span class=o>*</span><span class=mi>100</span><span class=o>*</span><span class=p>(</span><span class=n>df</span><span class=o>.</span><span class=n>groupby</span><span class=p>(</span><span class=n>index_col</span><span class=p>)[</span><span class=n>elt</span><span class=p>]</span><span class=o>.</span><span class=n>nunique</span><span class=p>()</span><span class=o>&gt;</span><span class=mi>1</span><span class=p>)</span><span class=o>.</span><span class=n>sum</span><span class=p>()</span><span class=o>/</span><span class=n>df</span><span class=p>[</span><span class=n>index_col</span><span class=p>]</span><span class=o>.</span><span class=n>nunique</span><span class=p>()))</span>
</span><span id=__span-10-15><a id=__codelineno-10-15 name=__codelineno-10-15 href=#__codelineno-10-15></a>  <span class=k>else</span><span class=p>:</span> <span class=n>dd</span><span class=p>[</span><span class=s2>&quot;nunique_per_bid&gt;1(%)&quot;</span><span class=p>]</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=s1>&#39;&#39;</span><span class=p>)</span>
</span><span id=__span-10-16><a id=__codelineno-10-16 name=__codelineno-10-16 href=#__codelineno-10-16></a>  <span class=n>list_indx</span> <span class=o>=</span> <span class=n>dd</span><span class=p>[</span><span class=s2>&quot;col&quot;</span><span class=p>]</span>
</span><span id=__span-10-17><a id=__codelineno-10-17 name=__codelineno-10-17 href=#__codelineno-10-17></a>  <span class=k>del</span> <span class=n>dd</span><span class=p>[</span><span class=s2>&quot;col&quot;</span><span class=p>]</span>
</span><span id=__span-10-18><a id=__codelineno-10-18 name=__codelineno-10-18 href=#__codelineno-10-18></a>  <span class=nb>print</span><span class=p>(</span><span class=s2>&quot;</span><span class=se>\n</span><span class=s2>&gt;&gt;&gt; df.more_info= &quot;</span><span class=p>)</span>
</span><span id=__span-10-19><a id=__codelineno-10-19 name=__codelineno-10-19 href=#__codelineno-10-19></a>  <span class=nb>print</span><span class=p>(</span><span class=n>pd</span><span class=o>.</span><span class=n>DataFrame</span><span class=p>(</span><span class=n>dd</span><span class=p>,</span> <span class=n>index</span><span class=o>=</span><span class=n>list_indx</span><span class=p>)</span><span class=o>.</span><span class=n>sort_values</span><span class=p>(</span><span class=n>by</span><span class=o>=</span><span class=p>[</span><span class=s1>&#39;nunique&#39;</span><span class=p>]))</span>
</span><span id=__span-10-20><a id=__codelineno-10-20 name=__codelineno-10-20 href=#__codelineno-10-20></a>  <span class=nb>print</span><span class=p>(</span><span class=s2>&quot;</span><span class=se>\n</span><span class=s2>&gt;&gt;&gt; df.describe= &quot;</span><span class=p>)</span>
</span><span id=__span-10-21><a id=__codelineno-10-21 name=__codelineno-10-21 href=#__codelineno-10-21></a>  <span class=nb>print</span><span class=p>(</span><span class=n>df</span><span class=o>.</span><span class=n>describe</span><span class=p>())</span>
</span><span id=__span-10-22><a id=__codelineno-10-22 name=__codelineno-10-22 href=#__codelineno-10-22></a>
</span><span id=__span-10-23><a id=__codelineno-10-23 name=__codelineno-10-23 href=#__codelineno-10-23></a><span class=n>get_cols_info</span><span class=p>(</span><span class=n>df</span><span class=p>,</span> <span class=s2>&quot;bidder_id&quot;</span><span class=p>)</span>
</span></code></pre></div> </details> <details class=output> <summary>Output</summary> <div class="language-markdown highlight"><pre><span></span><code><span id=__span-11-1><a id=__codelineno-11-1 name=__codelineno-11-1 href=#__codelineno-11-1></a>  &gt;&gt;&gt; df.shape=  (100000, 12)
</span><span id=__span-11-2><a id=__codelineno-11-2 name=__codelineno-11-2 href=#__codelineno-11-2></a>
</span><span id=__span-11-3><a id=__codelineno-11-3 name=__codelineno-11-3 href=#__codelineno-11-3></a>  &gt;&gt;&gt; df.info= 
</span><span id=__span-11-4><a id=__codelineno-11-4 name=__codelineno-11-4 href=#__codelineno-11-4></a>  &lt;class &#39;pandas.core.frame.DataFrame&#39;&gt;
</span><span id=__span-11-5><a id=__codelineno-11-5 name=__codelineno-11-5 href=#__codelineno-11-5></a>  RangeIndex: 100000 entries, 0 to 99999
</span><span id=__span-11-6><a id=__codelineno-11-6 name=__codelineno-11-6 href=#__codelineno-11-6></a>  Data columns (total 12 columns):
</span><span id=__span-11-7><a id=__codelineno-11-7 name=__codelineno-11-7 href=#__codelineno-11-7></a>  ##   Column           Non-Null Count   Dtype  
</span><span id=__span-11-8><a id=__codelineno-11-8 name=__codelineno-11-8 href=#__codelineno-11-8></a>  ---  ------           --------------   -----  
</span><span id=__span-11-9><a id=__codelineno-11-9 name=__codelineno-11-9 href=#__codelineno-11-9></a>  0   bidder_id        100000 non-null  object 
</span><span id=__span-11-10><a id=__codelineno-11-10 name=__codelineno-11-10 href=#__codelineno-11-10></a>  1   bid_id           100000 non-null  int64  
</span><span id=__span-11-11><a id=__codelineno-11-11 name=__codelineno-11-11 href=#__codelineno-11-11></a>  2   auction          100000 non-null  object 
</span><span id=__span-11-12><a id=__codelineno-11-12 name=__codelineno-11-12 href=#__codelineno-11-12></a>  3   merchandise      100000 non-null  object 
</span><span id=__span-11-13><a id=__codelineno-11-13 name=__codelineno-11-13 href=#__codelineno-11-13></a>  4   device           100000 non-null  object 
</span><span id=__span-11-14><a id=__codelineno-11-14 name=__codelineno-11-14 href=#__codelineno-11-14></a>  5   time             100000 non-null  float64
</span><span id=__span-11-15><a id=__codelineno-11-15 name=__codelineno-11-15 href=#__codelineno-11-15></a>  6   country          100000 non-null  object 
</span><span id=__span-11-16><a id=__codelineno-11-16 name=__codelineno-11-16 href=#__codelineno-11-16></a>  7   ip               100000 non-null  object 
</span><span id=__span-11-17><a id=__codelineno-11-17 name=__codelineno-11-17 href=#__codelineno-11-17></a>  8   url              100000 non-null  object 
</span><span id=__span-11-18><a id=__codelineno-11-18 name=__codelineno-11-18 href=#__codelineno-11-18></a>  9   payment_account  100000 non-null  object 
</span><span id=__span-11-19><a id=__codelineno-11-19 name=__codelineno-11-19 href=#__codelineno-11-19></a>  10  address          100000 non-null  object 
</span><span id=__span-11-20><a id=__codelineno-11-20 name=__codelineno-11-20 href=#__codelineno-11-20></a>  11  outcome          100000 non-null  int64  
</span><span id=__span-11-21><a id=__codelineno-11-21 name=__codelineno-11-21 href=#__codelineno-11-21></a>  dtypes: float64(1), int64(2), object(9)
</span><span id=__span-11-22><a id=__codelineno-11-22 name=__codelineno-11-22 href=#__codelineno-11-22></a>  memory usage: 9.2+ MB
</span><span id=__span-11-23><a id=__codelineno-11-23 name=__codelineno-11-23 href=#__codelineno-11-23></a>
</span><span id=__span-11-24><a id=__codelineno-11-24 name=__codelineno-11-24 href=#__codelineno-11-24></a>  &gt;&gt;&gt; df.more_info= 
</span><span id=__span-11-25><a id=__codelineno-11-25 name=__codelineno-11-25 href=#__codelineno-11-25></a>  dtype  nunique  nunique(%)  nunique_per_bid&gt;1(%)  is_cat
</span><span id=__span-11-26><a id=__codelineno-11-26 name=__codelineno-11-26 href=#__codelineno-11-26></a>  outcome            int64        2         0.1                   0.0       1
</span><span id=__span-11-27><a id=__codelineno-11-27 name=__codelineno-11-27 href=#__codelineno-11-27></a>  merchandise       object        6         0.1                   0.0       1
</span><span id=__span-11-28><a id=__codelineno-11-28 name=__codelineno-11-28 href=#__codelineno-11-28></a>  bidder_id         object       87         0.1                   0.0       0
</span><span id=__span-11-29><a id=__codelineno-11-29 name=__codelineno-11-29 href=#__codelineno-11-29></a>  payment_account   object       87         0.1                   0.0       0
</span><span id=__span-11-30><a id=__codelineno-11-30 name=__codelineno-11-30 href=#__codelineno-11-30></a>  address           object       87         0.1                   0.0       0
</span><span id=__span-11-31><a id=__codelineno-11-31 name=__codelineno-11-31 href=#__codelineno-11-31></a>  country           object      175         0.2                  70.2       0
</span><span id=__span-11-32><a id=__codelineno-11-32 name=__codelineno-11-32 href=#__codelineno-11-32></a>  device            object     1871         1.9                  80.5       0
</span><span id=__span-11-33><a id=__codelineno-11-33 name=__codelineno-11-33 href=#__codelineno-11-33></a>  auction           object     3438         3.5                  79.4       0
</span><span id=__span-11-34><a id=__codelineno-11-34 name=__codelineno-11-34 href=#__codelineno-11-34></a>  url               object    21951        22.0                  72.5       0
</span><span id=__span-11-35><a id=__codelineno-11-35 name=__codelineno-11-35 href=#__codelineno-11-35></a>  ip                object    35083        35.1                  84.0       0
</span><span id=__span-11-36><a id=__codelineno-11-36 name=__codelineno-11-36 href=#__codelineno-11-36></a>  time             float64    92385        92.4                  85.1       0
</span><span id=__span-11-37><a id=__codelineno-11-37 name=__codelineno-11-37 href=#__codelineno-11-37></a>  bid_id             int64   100000       100.0                  85.1       0
</span><span id=__span-11-38><a id=__codelineno-11-38 name=__codelineno-11-38 href=#__codelineno-11-38></a>
</span><span id=__span-11-39><a id=__codelineno-11-39 name=__codelineno-11-39 href=#__codelineno-11-39></a>  &gt;&gt;&gt; df.describe= 
</span><span id=__span-11-40><a id=__codelineno-11-40 name=__codelineno-11-40 href=#__codelineno-11-40></a>  bid_id           time        outcome
</span><span id=__span-11-41><a id=__codelineno-11-41 name=__codelineno-11-41 href=#__codelineno-11-41></a>  count  1.000000e+05  100000.000000  100000.000000
</span><span id=__span-11-42><a id=__codelineno-11-42 name=__codelineno-11-42 href=#__codelineno-11-42></a>  mean   3.697622e+06       0.543571       0.091230
</span><span id=__span-11-43><a id=__codelineno-11-43 name=__codelineno-11-43 href=#__codelineno-11-43></a>  std    2.380217e+06       0.362483       0.287937
</span><span id=__span-11-44><a id=__codelineno-11-44 name=__codelineno-11-44 href=#__codelineno-11-44></a>  min    8.900000e+01       0.000000       0.000000
</span><span id=__span-11-45><a id=__codelineno-11-45 name=__codelineno-11-45 href=#__codelineno-11-45></a>  25%    1.463762e+06       0.085364       0.000000
</span><span id=__span-11-46><a id=__codelineno-11-46 name=__codelineno-11-46 href=#__codelineno-11-46></a>  50%    3.660968e+06       0.514295       0.000000
</span><span id=__span-11-47><a id=__codelineno-11-47 name=__codelineno-11-47 href=#__codelineno-11-47></a>  75%    5.881387e+06       0.935483       0.000000
</span><span id=__span-11-48><a id=__codelineno-11-48 name=__codelineno-11-48 href=#__codelineno-11-48></a>  max    7.656326e+06       1.000000       1.000000
</span></code></pre></div> </details> <div class="admonition info"> <p class=admonition-title>on remarque le bid_id est un identifiant unique pour chaque bidder_id qui représente l'action de l'offre menée par chaque bidder</p> </div> <div class="admonition info"> <p class=admonition-title>on constate que time est n'est pas à 100% unique donc on peut avoir deux actions d'enchère qui sont réalisé en même instant</p> </div> <h4 id=etude-de-la-variable-predictive><strong>Etude de la variable prédictive</strong><a class=headerlink href=#etude-de-la-variable-predictive title="Permanent link">&para;</a></h4> <div class="language-python highlight"><pre><span></span><code><span id=__span-12-1><a id=__codelineno-12-1 name=__codelineno-12-1 href=#__codelineno-12-1></a><span class=n>tg</span> <span class=o>=</span> <span class=s2>&quot;outcome&quot;</span> <span class=c1>#(&quot;outcome&quot;, &quot;&lt;lambda&gt;&quot;)</span>
</span><span id=__span-12-2><a id=__codelineno-12-2 name=__codelineno-12-2 href=#__codelineno-12-2></a><span class=n>sss</span><span class=p>[</span><span class=n>tg</span><span class=p>]</span> <span class=o>=</span> <span class=n>sss</span><span class=p>[</span><span class=n>tg</span><span class=p>]</span><span class=o>.</span><span class=n>values</span><span class=o>.</span><span class=n>astype</span><span class=p>(</span><span class=nb>int</span><span class=p>)</span>
</span><span id=__span-12-3><a id=__codelineno-12-3 name=__codelineno-12-3 href=#__codelineno-12-3></a><span class=n>ax</span> <span class=o>=</span> <span class=n>sns</span><span class=o>.</span><span class=n>histplot</span><span class=p>(</span><span class=n>x</span><span class=o>=</span><span class=n>tg</span><span class=p>,</span> <span class=n>data</span><span class=o>=</span><span class=n>sss</span><span class=p>)</span>
</span><span id=__span-12-4><a id=__codelineno-12-4 name=__codelineno-12-4 href=#__codelineno-12-4></a><span class=n>add_labels_to_histplot</span><span class=p>(</span><span class=n>ax</span><span class=p>,</span> <span class=n>title</span><span class=o>=</span><span class=s2>&quot;distribution of outcome&quot;</span><span class=p>)</span>
</span></code></pre></div> <p><img alt=image src=../media/bot_detection_in_auction/image5.png></p> <p>On remarque que sur 87 bidder_id, seuls 6 correspondent à des robots. Ainsi, il s'agit d'un problème de classification binaire déséquilibré.</p> <h4 id=selection-des-variables><strong>Sélection des variables</strong><a class=headerlink href=#selection-des-variables title="Permanent link">&para;</a></h4> <p>Les variables qui prennent plusieurs valeurs pour un même joueur pourraient être utilisés afin d'étudier la variété des outils utilisés par le joueur. C'est le cas des variables (country, device, auction, url, ip). La variable bid_id est un identifiant unique de transaction (nunique=100%) et ne sera pas considéré.</p> <p>Les variables catégorielles, si pertinentes seront intégrées. C'est le cas de la variable (merchandise)</p> <p>Les variables avec un « nunique_per_bid » prenant la valeur nulle, n'apportent pas d'informations et seront rejetées s'il n'y a pas d'extraction d'informations possibles. C'est le cas pour les variables (payment_account et address)</p> <table> <thead> <tr> <th>Variable</th> <th>Pertinence</th> <th>Descriptions</th> <th>À Rejeter</th> </tr> </thead> <tbody> <tr> <td>Outcome (status du joueur)</td> <td>- Il s'agit de la variable à prédire</td> <td>Variable catégorielle (0 ou 1). Chaque joueur a un seul status. Cette information est vérifiée sur toute la table.</td> <td><strong>NON</strong></td> </tr> <tr> <td>Merchandise (type de produit achetés)</td> <td>- Les robots ou les humains pourraient avoir des tendances vers des produits particuliers.</td> <td>Variable catégorielle (6 catégories)</td> <td><strong>NON</strong></td> </tr> <tr> <td>bidder_id (identifiant du joueur)</td> <td>- Il s'agit de l'object de la prédiction.</td> <td>Identifiant. Mais il n'apporte pas d'informations supplémentaires.</td> <td><strong>NON</strong></td> </tr> <tr> <td>PAYMENT_ACCOUNT ET ADRESSE</td> <td>- Ces variables n'apportent pas d'informations supplémentaires (unique_per_bid = 0).</td> <td>Identifiants sans possibilité d'extraction d'informations.</td> <td><strong>OUI</strong></td> </tr> <tr> <td>COUNTRY</td> <td>- Les joueurs de certains pays pourraient avoir plus tendance à utiliser ou non des robots.</td> <td>Variable texte (identifiant du pays).</td> <td><strong>NON</strong></td> </tr> <tr> <td>device (Appareil utilisé), AUCTION, URL, IP</td> <td>- Les robots ou humains pourraient avoir tendance à utiliser certains appareils (pc vs mobile vs web ...)</td> <td>Variable texte (nom du device).</td> <td><strong>NON</strong></td> </tr> <tr> <td>BID_ID</td> <td>- Le bid_id est unique sur les lignes et ne contient pas de features à extraire.</td> <td>Identifiant ne contenant pas de features à extraire.</td> <td><strong>OUI</strong></td> </tr> </tbody> </table> <h3 id=valeurs-nulles><strong>Valeurs nulles</strong><a class=headerlink href=#valeurs-nulles title="Permanent link">&para;</a></h3> <p>lignes vides par colonne</p> <div class="language-python highlight"><pre><span></span><code><span id=__span-13-1><a id=__codelineno-13-1 name=__codelineno-13-1 href=#__codelineno-13-1></a><span class=n>df</span><span class=o>.</span><span class=n>isnull</span><span class=p>()</span><span class=o>.</span><span class=n>sum</span><span class=p>()</span>
</span></code></pre></div> <p>bidder_id 0 bid_id 0 auction 0 merchandise 0 device 0 time 0 country 184 ip 0 url 0 payment_account 0 address 0 outcome 0 dtype: int64</p> <p>Il n'y a de cellules vides que dans country</p> <p>Valeurs dupliquées ?</p> <p><img alt=image src=../media/bot_detection_in_auction/image7.png></p> <p>Il n'y a pas de lignes dupliquées dans la table. Mais si on enlève le champs bid_id, il y a deux lignes dupliquées. On supprime ces deux lignes puisque ce sont des transactions qui se répètent.</p> <h2 id=feature-engineering-visualisation-etou-test-des-hypotheses>Feature Engineering, Visualisation et/ou Test des Hypothèses<a class=headerlink href=#feature-engineering-visualisation-etou-test-des-hypotheses title="Permanent link">&para;</a></h2> <p>Afin d'en savoir plus sur le pouvoir de séparabilité des variables par rapport à la variable « outcome », nous allons effectuer une série d'analyses et de visualisations.</p> <p>Par ailleurs, nous ferons une agrégation des données selon le « bidder_id » qui identifie la nature (robot ou humain) des joueurs.</p> <h3 id=librairies-utiles>Librairies utiles<a class=headerlink href=#librairies-utiles title="Permanent link">&para;</a></h3> <div class="language-python highlight"><pre><span></span><code><span id=__span-14-1><a id=__codelineno-14-1 name=__codelineno-14-1 href=#__codelineno-14-1></a><span class=kn>import</span> <span class=nn>numpy</span> <span class=k>as</span> <span class=nn>np</span>
</span><span id=__span-14-2><a id=__codelineno-14-2 name=__codelineno-14-2 href=#__codelineno-14-2></a><span class=kn>import</span> <span class=nn>pandas</span> <span class=k>as</span> <span class=nn>pd</span>
</span><span id=__span-14-3><a id=__codelineno-14-3 name=__codelineno-14-3 href=#__codelineno-14-3></a><span class=kn>import</span> <span class=nn>matplotlib.pyplot</span> <span class=k>as</span> <span class=nn>plt</span>
</span><span id=__span-14-4><a id=__codelineno-14-4 name=__codelineno-14-4 href=#__codelineno-14-4></a><span class=kn>import</span> <span class=nn>seaborn</span> <span class=k>as</span> <span class=nn>sns</span>
</span><span id=__span-14-5><a id=__codelineno-14-5 name=__codelineno-14-5 href=#__codelineno-14-5></a>
</span><span id=__span-14-6><a id=__codelineno-14-6 name=__codelineno-14-6 href=#__codelineno-14-6></a><span class=kn>import</span> <span class=nn>scipy.stats</span> <span class=k>as</span> <span class=nn>stats</span>
</span><span id=__span-14-7><a id=__codelineno-14-7 name=__codelineno-14-7 href=#__codelineno-14-7></a><span class=kn>from</span> <span class=nn>statsmodels.api</span> <span class=kn>import</span> <span class=n>Logit</span>
</span><span id=__span-14-8><a id=__codelineno-14-8 name=__codelineno-14-8 href=#__codelineno-14-8></a>
</span><span id=__span-14-9><a id=__codelineno-14-9 name=__codelineno-14-9 href=#__codelineno-14-9></a><span class=kn>from</span> <span class=nn>sklearn.model_selection</span> <span class=kn>import</span> <span class=n>train_test_split</span>
</span><span id=__span-14-10><a id=__codelineno-14-10 name=__codelineno-14-10 href=#__codelineno-14-10></a><span class=kn>from</span> <span class=nn>sklearn.pipeline</span> <span class=kn>import</span> <span class=n>make_pipeline</span>
</span><span id=__span-14-11><a id=__codelineno-14-11 name=__codelineno-14-11 href=#__codelineno-14-11></a><span class=kn>from</span> <span class=nn>sklearn.preprocessing</span> <span class=kn>import</span> <span class=n>StandardScaler</span>
</span></code></pre></div> <h3 id=null-values-country><strong>Null values (country)</strong><a class=headerlink href=#null-values-country title="Permanent link">&para;</a></h3> <p>Seule la variable country contient des valeurs nulles. Nous allons remplacer toutes les valeurs nulles par une constante nommée « NO_COUNTRY »</p> <div class="language-python highlight"><pre><span></span><code><span id=__span-15-1><a id=__codelineno-15-1 name=__codelineno-15-1 href=#__codelineno-15-1></a><span class=c1>## proportion des valeurs nulles</span>
</span><span id=__span-15-2><a id=__codelineno-15-2 name=__codelineno-15-2 href=#__codelineno-15-2></a><span class=n>df</span><span class=o>.</span><span class=n>country</span><span class=o>.</span><span class=n>isnull</span><span class=p>()</span><span class=o>.</span><span class=n>sum</span><span class=p>()</span><span class=o>/</span><span class=nb>len</span><span class=p>(</span><span class=n>df</span><span class=p>)</span>
</span></code></pre></div> <p>0.00184</p> <h3 id=transformation-ip><strong>Transformation (ip)</strong><a class=headerlink href=#transformation-ip title="Permanent link">&para;</a></h3> <div class="language-python highlight"><pre><span></span><code><span id=__span-16-1><a id=__codelineno-16-1 name=__codelineno-16-1 href=#__codelineno-16-1></a><span class=n>df</span><span class=o>.</span><span class=n>ip</span>
</span></code></pre></div> <div class="language-text highlight"><pre><span></span><code>0        139.226.147.115
1           21.67.17.162
2         103.165.41.136
3        239.250.228.152
4        255.108.248.101
              ...       
99995      186.94.48.203
99996      119.27.26.126
99997       243.25.54.63
99998      17.66.120.232
99999       64.30.57.156
Name: ip, Length: 100000, dtype: object
</code></pre></div> <div class="language-python highlight"><pre><span></span><code><span id=__span-17-1><a id=__codelineno-17-1 name=__codelineno-17-1 href=#__codelineno-17-1></a><span class=c1>## identify network instead of device</span>
</span><span id=__span-17-2><a id=__codelineno-17-2 name=__codelineno-17-2 href=#__codelineno-17-2></a><span class=n>df</span><span class=p>[</span><span class=s2>&quot;ip&quot;</span><span class=p>]</span> <span class=o>=</span> <span class=n>df</span><span class=o>.</span><span class=n>ip</span><span class=o>.</span><span class=n>apply</span><span class=p>(</span><span class=k>lambda</span> <span class=n>x</span><span class=p>:</span> <span class=s1>&#39;.&#39;</span><span class=o>.</span><span class=n>join</span><span class=p>(</span><span class=n>x</span><span class=o>.</span><span class=n>split</span><span class=p>(</span><span class=s1>&#39;.&#39;</span><span class=p>)[:</span><span class=mi>2</span><span class=p>]))</span>
</span></code></pre></div> <div class="language-python highlight"><pre><span></span><code><span id=__span-18-1><a id=__codelineno-18-1 name=__codelineno-18-1 href=#__codelineno-18-1></a><span class=n>df</span><span class=o>.</span><span class=n>ip</span>
</span></code></pre></div> <div class="language-text highlight"><pre><span></span><code>0        139.226
1          21.67
2        103.165
3        239.250
4        255.108
          ...   
99995     186.94
99996     119.27
99997     243.25
99998      17.66
99999      64.30
Name: ip, Length: 100000, dtype: object
</code></pre></div> <div class="language-python highlight"><pre><span></span><code><span id=__span-19-1><a id=__codelineno-19-1 name=__codelineno-19-1 href=#__codelineno-19-1></a><span class=n>df</span><span class=o>.</span><span class=n>groupby</span><span class=p>(</span><span class=s2>&quot;ip&quot;</span><span class=p>)</span><span class=o>.</span><span class=n>agg</span><span class=p>({</span><span class=s2>&quot;country&quot;</span><span class=p>:</span> <span class=k>lambda</span> <span class=n>x</span><span class=p>:</span> <span class=n>x</span><span class=o>.</span><span class=n>nunique</span><span class=p>()})</span><span class=o>.</span><span class=n>country</span><span class=o>.</span><span class=n>value_counts</span><span class=p>()</span>
</span></code></pre></div> <div class="language-text highlight"><pre><span></span><code>1     25426
2      7918
3      1469
4       205
5        44
6         9
8         4
7         3
10        2
9         2
13        1
Name: country, dtype: int64
</code></pre></div> <h3 id=normalisation-time><strong>Normalisation (time)</strong><a class=headerlink href=#normalisation-time title="Permanent link">&para;</a></h3> <p>La variable « time » prends des valeurs très petites (de l'ordre de 10**(-308)). On appliquera une normalisation linéaire et qui donc ne réduit pas l'information de cette variable.</p> <div class="language-python highlight"><pre><span></span><code><span id=__span-20-1><a id=__codelineno-20-1 name=__codelineno-20-1 href=#__codelineno-20-1></a><span class=n>df</span><span class=o>.</span><span class=n>time</span><span class=o>.</span><span class=n>describe</span><span class=p>()</span>
</span></code></pre></div> <div class="language-text highlight"><pre><span></span><code>count     1.000000e+05
mean     5.143168e-308
std       0.000000e+00
min      5.067452e-308
25%      5.079343e-308
50%      5.139090e-308
75%      5.197759e-308
max      5.206746e-308
Name: time, dtype: float64
</code></pre></div> <div class="language-python highlight"><pre><span></span><code><span id=__span-21-1><a id=__codelineno-21-1 name=__codelineno-21-1 href=#__codelineno-21-1></a><span class=c1>## normalize time</span>
</span><span id=__span-21-2><a id=__codelineno-21-2 name=__codelineno-21-2 href=#__codelineno-21-2></a><span class=n>df</span><span class=p>[</span><span class=s2>&quot;time&quot;</span><span class=p>]</span> <span class=o>=</span> <span class=p>(</span><span class=n>df</span><span class=o>.</span><span class=n>time</span> <span class=o>-</span> <span class=n>df</span><span class=o>.</span><span class=n>time</span><span class=o>.</span><span class=n>min</span><span class=p>())</span><span class=o>/</span><span class=p>(</span><span class=n>df</span><span class=o>.</span><span class=n>time</span><span class=o>.</span><span class=n>max</span><span class=p>()</span> <span class=o>-</span> <span class=n>df</span><span class=o>.</span><span class=n>time</span><span class=o>.</span><span class=n>min</span><span class=p>())</span>
</span></code></pre></div> <div class="language-python highlight"><pre><span></span><code><span id=__span-22-1><a id=__codelineno-22-1 name=__codelineno-22-1 href=#__codelineno-22-1></a><span class=n>df</span><span class=p>[</span><span class=s2>&quot;time&quot;</span><span class=p>]</span><span class=o>.</span><span class=n>describe</span><span class=p>()</span>
</span></code></pre></div> <div class="language-text highlight"><pre><span></span><code>count    100000.000000
mean          0.543571
std           0.362483
min           0.000000
25%           0.085364
50%           0.514295
75%           0.935483
max           1.000000
Name: time, dtype: float64
</code></pre></div> <h3 id=visualisation-merchandise><strong>Visualisation (Merchandise)</strong><a class=headerlink href=#visualisation-merchandise title="Permanent link">&para;</a></h3> <div class="language-python highlight"><pre><span></span><code><span id=__span-23-1><a id=__codelineno-23-1 name=__codelineno-23-1 href=#__codelineno-23-1></a><span class=c1>## histogrammes des produits</span>
</span><span id=__span-23-2><a id=__codelineno-23-2 name=__codelineno-23-2 href=#__codelineno-23-2></a><span class=n>ax</span> <span class=o>=</span> <span class=n>sns</span><span class=o>.</span><span class=n>histplot</span><span class=p>(</span><span class=n>x</span><span class=o>=</span><span class=s2>&quot;merchandise&quot;</span><span class=p>,</span> <span class=n>data</span><span class=o>=</span><span class=n>df</span><span class=p>,</span> <span class=n>color</span><span class=o>=</span><span class=s1>&#39;b&#39;</span><span class=p>)</span>
</span><span id=__span-23-3><a id=__codelineno-23-3 name=__codelineno-23-3 href=#__codelineno-23-3></a><span class=n>add_labels_to_histplot</span><span class=p>(</span><span class=n>ax</span><span class=p>,</span> <span class=n>title</span><span class=o>=</span><span class=s2>&quot;Distribution of merchandises&quot;</span><span class=p>)</span>
</span></code></pre></div> <p><img alt=png src=../media/bot_detection_in_auction/image11-1.png></p> <div class="language-python highlight"><pre><span></span><code><span id=__span-24-1><a id=__codelineno-24-1 name=__codelineno-24-1 href=#__codelineno-24-1></a><span class=c1>## histogramme des produits par outcome</span>
</span><span id=__span-24-2><a id=__codelineno-24-2 name=__codelineno-24-2 href=#__codelineno-24-2></a><span class=n>ax</span> <span class=o>=</span> <span class=n>sns</span><span class=o>.</span><span class=n>histplot</span><span class=p>(</span><span class=n>x</span><span class=o>=</span><span class=s2>&quot;merchandise&quot;</span><span class=p>,</span> <span class=n>data</span><span class=o>=</span><span class=n>df</span><span class=p>,</span> <span class=n>hue</span><span class=o>=</span><span class=s2>&quot;outcome&quot;</span><span class=p>,</span> <span class=n>palette</span><span class=o>=</span><span class=p>[</span><span class=s2>&quot;b&quot;</span><span class=p>,</span><span class=s2>&quot;orange&quot;</span><span class=p>])</span>
</span><span id=__span-24-3><a id=__codelineno-24-3 name=__codelineno-24-3 href=#__codelineno-24-3></a><span class=n>add_labels_to_histplot</span><span class=p>(</span><span class=n>ax</span><span class=p>,</span> <span class=n>title</span><span class=o>=</span><span class=s2>&quot;Distribution of merchandises by outcome&quot;</span><span class=p>)</span>
</span></code></pre></div> <p><img alt=png src=../media/bot_detection_in_auction/image11-2.png></p> <div class="language-python highlight"><pre><span></span><code><span id=__span-25-1><a id=__codelineno-25-1 name=__codelineno-25-1 href=#__codelineno-25-1></a><span class=c1>## liste des outcome par produit</span>
</span><span id=__span-25-2><a id=__codelineno-25-2 name=__codelineno-25-2 href=#__codelineno-25-2></a><span class=k>def</span> <span class=nf>human</span><span class=p>(</span><span class=n>x</span><span class=p>):</span> <span class=k>return</span> <span class=p>(</span><span class=n>x</span><span class=o>==</span><span class=mi>0</span><span class=p>)</span><span class=o>.</span><span class=n>sum</span><span class=p>()</span>
</span><span id=__span-25-3><a id=__codelineno-25-3 name=__codelineno-25-3 href=#__codelineno-25-3></a><span class=k>def</span> <span class=nf>bot</span><span class=p>(</span><span class=n>x</span><span class=p>):</span> <span class=k>return</span> <span class=p>(</span><span class=n>x</span><span class=o>==</span><span class=mi>1</span><span class=p>)</span><span class=o>.</span><span class=n>sum</span><span class=p>()</span>
</span><span id=__span-25-4><a id=__codelineno-25-4 name=__codelineno-25-4 href=#__codelineno-25-4></a><span class=n>df</span><span class=o>.</span><span class=n>groupby</span><span class=p>(</span><span class=s2>&quot;merchandise&quot;</span><span class=p>)</span><span class=o>.</span><span class=n>agg</span><span class=p>({</span><span class=s2>&quot;outcome&quot;</span><span class=p>:</span> <span class=p>[</span><span class=n>human</span><span class=p>,</span> <span class=n>bot</span><span class=p>]</span> <span class=p>})</span>
</span></code></pre></div> <p>| | outcome | | | | <strong>human</strong> | <strong>bot</strong>| |------------|-----------------|--------| | merchandise| | | | books and music| 227 | 0 | | home goods | 13002 | 2093 | | jewelry | 25004 | 0 | | mobile | 26228 | 6853 | | office equipment| 21 | 0 | | sporting goods | 26395 | 177 |</p> <h3 id=encoding-merchandise><strong>Encoding (Merchandise)</strong><a class=headerlink href=#encoding-merchandise title="Permanent link">&para;</a></h3> <div class="language-python highlight"><pre><span></span><code><span id=__span-26-1><a id=__codelineno-26-1 name=__codelineno-26-1 href=#__codelineno-26-1></a><span class=n>df</span><span class=o>.</span><span class=n>merchandise</span><span class=o>.</span><span class=n>unique</span><span class=p>()</span>
</span></code></pre></div> <div class="language-text highlight"><pre><span></span><code>array([&#39;jewelry&#39;, &#39;mobile&#39;, &#39;books and music&#39;, &#39;office equipment&#39;,
       &#39;sporting goods&#39;, &#39;home goods&#39;], dtype=object)
</code></pre></div> <div class="language-python highlight"><pre><span></span><code><span id=__span-27-1><a id=__codelineno-27-1 name=__codelineno-27-1 href=#__codelineno-27-1></a><span class=n>REMOVE_EVIDENT_MERCHANDISE</span> <span class=o>=</span> <span class=kc>False</span>
</span></code></pre></div> <div class="language-python highlight"><pre><span></span><code><span id=__span-28-1><a id=__codelineno-28-1 name=__codelineno-28-1 href=#__codelineno-28-1></a><span class=k>if</span> <span class=n>REMOVE_EVIDENT_MERCHANDISE</span> <span class=p>:</span> <span class=n>df</span> <span class=o>=</span> <span class=n>df</span><span class=p>[</span><span class=n>df</span><span class=o>.</span><span class=n>merchandise</span><span class=o>.</span><span class=n>apply</span><span class=p>(</span><span class=k>lambda</span> <span class=n>x</span><span class=p>:</span> <span class=n>x</span> <span class=ow>in</span> <span class=p>[</span><span class=s2>&quot;mobile&quot;</span><span class=p>,</span> <span class=s2>&quot;sporting goods&quot;</span><span class=p>,</span> <span class=s2>&quot;home goods&quot;</span><span class=p>])]</span>
</span><span id=__span-28-2><a id=__codelineno-28-2 name=__codelineno-28-2 href=#__codelineno-28-2></a><span class=k>else</span><span class=p>:</span> <span class=n>df</span><span class=p>[</span><span class=s2>&quot;non_robot_merchandise&quot;</span><span class=p>]</span> <span class=o>=</span> <span class=n>df</span><span class=o>.</span><span class=n>merchandise</span><span class=o>.</span><span class=n>apply</span><span class=p>(</span><span class=k>lambda</span> <span class=n>x</span><span class=p>:</span> <span class=nb>int</span><span class=p>(</span><span class=n>x</span> <span class=ow>in</span> <span class=p>[</span><span class=s1>&#39;jewelry&#39;</span><span class=p>,</span> <span class=s1>&#39;books and music&#39;</span><span class=p>,</span> <span class=s1>&#39;office equipment&#39;</span><span class=p>]))</span>
</span></code></pre></div> <div class="language-python highlight"><pre><span></span><code><span id=__span-29-1><a id=__codelineno-29-1 name=__codelineno-29-1 href=#__codelineno-29-1></a><span class=k>def</span> <span class=nf>one_hot_encoder_v2</span><span class=p>(</span><span class=n>data</span><span class=p>,</span> <span class=n>col_name</span><span class=p>):</span>
</span><span id=__span-29-2><a id=__codelineno-29-2 name=__codelineno-29-2 href=#__codelineno-29-2></a>  <span class=n>data</span> <span class=o>=</span> <span class=n>data</span><span class=o>.</span><span class=n>copy</span><span class=p>()</span>
</span><span id=__span-29-3><a id=__codelineno-29-3 name=__codelineno-29-3 href=#__codelineno-29-3></a>  <span class=n>new_cols</span> <span class=o>=</span> <span class=p>[]</span>
</span><span id=__span-29-4><a id=__codelineno-29-4 name=__codelineno-29-4 href=#__codelineno-29-4></a>  <span class=k>for</span> <span class=n>i</span><span class=p>,</span> <span class=n>elt</span> <span class=ow>in</span> <span class=nb>enumerate</span><span class=p>(</span><span class=n>data</span><span class=p>[</span><span class=n>col_name</span><span class=p>]</span><span class=o>.</span><span class=n>unique</span><span class=p>()):</span>
</span><span id=__span-29-5><a id=__codelineno-29-5 name=__codelineno-29-5 href=#__codelineno-29-5></a>    <span class=n>new_cols</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;</span><span class=si>{</span><span class=n>col_name</span><span class=si>}</span><span class=s2>_</span><span class=si>{</span><span class=n>i</span><span class=o>+</span><span class=mi>1</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>
</span><span id=__span-29-6><a id=__codelineno-29-6 name=__codelineno-29-6 href=#__codelineno-29-6></a>    <span class=n>data</span><span class=p>[</span><span class=n>new_cols</span><span class=p>[</span><span class=o>-</span><span class=mi>1</span><span class=p>]]</span> <span class=o>=</span> <span class=n>data</span><span class=p>[</span><span class=n>col_name</span><span class=p>]</span><span class=o>.</span><span class=n>apply</span><span class=p>(</span><span class=k>lambda</span> <span class=n>x</span><span class=p>:</span> <span class=nb>int</span><span class=p>(</span><span class=n>x</span><span class=o>==</span><span class=n>elt</span><span class=p>))</span>
</span><span id=__span-29-7><a id=__codelineno-29-7 name=__codelineno-29-7 href=#__codelineno-29-7></a>  <span class=k>del</span> <span class=n>data</span><span class=p>[</span><span class=n>col_name</span><span class=p>]</span>
</span><span id=__span-29-8><a id=__codelineno-29-8 name=__codelineno-29-8 href=#__codelineno-29-8></a>  <span class=k>return</span> <span class=n>data</span><span class=p>,</span> <span class=n>new_cols</span>
</span><span id=__span-29-9><a id=__codelineno-29-9 name=__codelineno-29-9 href=#__codelineno-29-9></a>
</span><span id=__span-29-10><a id=__codelineno-29-10 name=__codelineno-29-10 href=#__codelineno-29-10></a><span class=n>df2</span><span class=p>,</span> <span class=n>new_cols</span> <span class=o>=</span> <span class=n>one_hot_encoder_v2</span><span class=p>(</span><span class=n>df</span><span class=p>,</span> <span class=s2>&quot;merchandise&quot;</span><span class=p>)</span>
</span><span id=__span-29-11><a id=__codelineno-29-11 name=__codelineno-29-11 href=#__codelineno-29-11></a><span class=n>df2</span>
</span></code></pre></div> <table> <thead> <tr> <th></th> <th>bidder_id</th> <th>auction</th> <th>device</th> <th>time</th> <th>country</th> <th>ip</th> <th>url</th> <th>outcome</th> <th>non_robot_merchandise</th> <th>merchandise_1</th> <th>merchandise_2</th> <th>merchandise_3</th> <th>merchandise_4</th> <th>merchandise_5</th> <th>merchandise_6</th> </tr> </thead> <tbody> <tr> <td>0</td> <td>001068c415025a009fee375a12cff4fcnht8y</td> <td>4ifac</td> <td>phone561</td> <td>0.527973</td> <td>bn</td> <td>139.226</td> <td>vasstdc27m7nks3</td> <td>0</td> <td>1</td> <td>1</td> <td>0</td> <td>0</td> <td>0</td> <td>0</td> <td>0</td> </tr> <tr> <td>1</td> <td>0030a2dd87ad2733e0873062e4f83954mkj86</td> <td>obbny</td> <td>phone313</td> <td>0.515267</td> <td>ir</td> <td>21.67</td> <td>vnw40k8zzokijsv</td> <td>0</td> <td>0</td> <td>0</td> <td>1</td> <td>0</td> <td>0</td> <td>0</td> <td>0</td> </tr> <tr> <td>2</td> <td>00a0517965f18610417ee784a05f494d4dw6e</td> <td>l3o6q</td> <td>phone451</td> <td>0.002705</td> <td>bh</td> <td>103.165</td> <td>kk7rxe25ehseyci</td> <td>0</td> <td>1</td> <td>0</td> <td>0</td> <td>1</td> <td>0</td> <td>0</td> <td>0</td> </tr> <tr> <td>3</td> <td>00a0517965f18610417ee784a05f494d4dw6e</td> <td>du967</td> <td>phone117</td> <td>0.008986</td> <td>tr</td> <td>239.250</td> <td>iu2iu3k137vakme</td> <td>0</td> <td>1</td> <td>0</td> <td>0</td> <td>1</td> <td>0</td> <td>0</td> <td>0</td> </tr> <tr> <td>4</td> <td>00a0517965f18610417ee784a05f494d4dw6e</td> <td>wx3kf</td> <td>phone16</td> <td>0.009710</td> <td>in</td> <td>255.108</td> <td>u85yj2e7owkz6xp</td> <td>0</td> <td>1</td> <td>0</td> <td>0</td> <td>1</td> <td>0</td> <td>0</td> <td>0</td> </tr> <tr> <td>...</td> <td>...</td> <td>...</td> <td>...</td> <td>...</td> <td>...</td> <td>...</td> <td>...</td> <td>...</td> <td>...</td> <td>...</td> <td>...</td> <td>...</td> <td>...</td> <td>...</td> <td>...</td> </tr> <tr> <td>99995</td> <td>0ad17aa9111f657d71cd3005599afc24fd44y</td> <td>toxfq</td> <td>phone1036</td> <td>0.962363</td> <td>in</td> <td>186.94</td> <td>vasstdc27m7nks3</td> <td>1</td> <td>0</td> <td>1</td> <td>0</td> <td>0</td> <td>0</td> <td>0</td> <td>0</td> </tr> <tr> <td>99996</td> <td>0ad17aa9111f657d71cd3005599afc24fd44y</td> <td>ucb4u</td> <td>phone127</td> <td>0.962380</td> <td>in</td> <td>119.27</td> <td>vasstdc27m7nks3</td> <td>1</td> <td>0</td> <td>1</td> <td>0</td> <td>0</td> <td>0</td> <td>0</td> <td>0</td> </tr> <tr> <td>99997</td> <td>0ad17aa9111f657d71cd3005599afc24fd44y</td> <td>sg8yd</td> <td>phone383</td> <td>0.962386</td> <td>in</td> <td>243.25</td> <td>yweo7wfejrgbi2d</td> <td>1</td> <td>0</td> <td>1</td> <td>0</td> <td>0</td> <td>0</td> <td>0</td> <td>0</td> </tr> <tr> <td>99998</td> <td>0ad17aa9111f657d71cd3005599afc24fd44y</td> <td>toaj7</td> <td>phone26</td> <td>0.962393</td> <td>in</td> <td>17.66</td> <td>4dd8ei0o5oqsua3</td> <td>1</td> <td>0</td> <td>1</td> <td>0</td> <td>0</td> <td>0</td> <td>0</td> <td>0</td> </tr> <tr> <td>99999</td> <td>0ad17aa9111f657d71cd3005599afc24fd44y</td> <td>07axb</td> <td>phone25</td> <td>0.962401</td> <td>in</td> <td>64.30</td> <td>8zdkeqk4yby6lz2</td> <td>1</td> <td>0</td> <td>1</td> <td>0</td> <td>0</td> <td>0</td> <td>0</td> <td>0</td> </tr> </tbody> </table> <h3 id=country>country<a class=headerlink href=#country title="Permanent link">&para;</a></h3> <div class="language-python highlight"><pre><span></span><code><span id=__span-30-1><a id=__codelineno-30-1 name=__codelineno-30-1 href=#__codelineno-30-1></a><span class=c1>#sns.barplot(x=&quot;country&quot;, y=&quot;outcome&quot;, data=df)</span>
</span></code></pre></div> <p>no unique on merchandise because of unicite/bidder_id</p> <h3 id=groupage-par-bidder_id><strong>Groupage par bidder_id</strong><a class=headerlink href=#groupage-par-bidder_id title="Permanent link">&para;</a></h3> <p>Les variables actuelles</p> <div class="language-python highlight"><pre><span></span><code><span id=__span-31-1><a id=__codelineno-31-1 name=__codelineno-31-1 href=#__codelineno-31-1></a><span class=n>df</span><span class=o>.</span><span class=n>columns</span>
</span></code></pre></div> <div class="language-text highlight"><pre><span></span><code>Index([&#39;bidder_id&#39;, &#39;auction&#39;, &#39;device&#39;, &#39;time&#39;, &#39;country&#39;, &#39;ip&#39;, &#39;url&#39;,
       &#39;outcome&#39;, &#39;non_robot_merchandise&#39;, &#39;merchandise_1&#39;, &#39;merchandise_2&#39;,
       &#39;merchandise_3&#39;, &#39;merchandise_4&#39;, &#39;merchandise_5&#39;, &#39;merchandise_6&#39;],
      dtype=&#39;object&#39;)
</code></pre></div> <p>Les nouvelles variables :</p> <table> <thead> <tr> <th>Champs</th> <th>Descriptif</th> </tr> </thead> <tbody> <tr> <td>nb_device</td> <td>Nombre d'appareils uniques utilisés par bidder_id</td> </tr> <tr> <td>nb_auction</td> <td>Nombre d'enchères auxquelles bidder_id a participé</td> </tr> <tr> <td>nb_ip</td> <td>Nombre d'adresses IP (identifiant de réseau) uniques utilisées par bidder_id</td> </tr> <tr> <td>nb_url</td> <td>Nombre d'URLs utilisées par le bidder_id</td> </tr> <tr> <td>nb_country</td> <td>Nombre de pays uniques identifiés par bidder_id</td> </tr> <tr> <td>outcome</td> <td>1 si robot, 0 si homme</td> </tr> <tr> <td>non_robot_merchandise</td> <td>Catégories non choisies par les robots</td> </tr> <tr> <td>time</td> <td>Moyenne des écarts de temps pour chaque bidder_id</td> </tr> <tr> <td>nb_bid</td> <td>Nombre de bids effectuées par bidder_id</td> </tr> <tr> <td>nb_merchandise_1</td> <td>Nombre de "jewelry" uniques utilisés par bidder_id</td> </tr> <tr> <td>nb_merchandise_2</td> <td>Nombre de "mobile" uniques utilisés par bidder_id</td> </tr> <tr> <td>nb_merchandise_3</td> <td>Nombre de "books and music" uniques utilisés par bidder_id</td> </tr> <tr> <td>nb_merchandise_4</td> <td>Nombre de "office equipment" uniques utilisés par bidder_id</td> </tr> <tr> <td>nb_merchandise_5</td> <td>Nombre de "sporting goods" uniques utilisés par bidder_id</td> </tr> <tr> <td>nb_merchandise_6</td> <td>Nombre de "home goods" uniques utilisés par bidder_id</td> </tr> </tbody> </table> <h3 id=groupage-par-bidder_id-and-time><strong>Groupage par bidder_id and time</strong><a class=headerlink href=#groupage-par-bidder_id-and-time title="Permanent link">&para;</a></h3> <p>Pour chaque bidder_id, à chaque instant donné, on identifie le nombre de fois que l'utilisateur a utilisé simultanément certaines ressources</p> <ul> <li> <p>adresse ip : on identifie le nombre d'adresses ip utilisées à cet instant par cette personne</p> </li> <li> <p>auction : le nombre d'enchères où il était connecté simultanément</p> </li> <li> <p>device : le nombre d'appareils différents qu'il a utilisé simultanément</p> </li> <li> <p>url : le nombre d'urls différents qui ont été utilisés simultanément par l'enrichisseur</p> </li> <li> <p>country : le nombre de pays depuis lesquels l'enrichisseur a fait simultanément la transaction .</p> </li> </ul> <p>Ensuite, pour chaque bidder_id et chaque temps, on somme ces 5 quantités.</p> <p>Ainsi, pour chaque bidder_id, on a une série de valeurs sur laquelle on calcule des statistiques simples telles que la moyenne (my_agg_mean), la somme(my_agg_sum), l'écart-type(my_agg_std) et le max(my_agg_max)</p> <div class="language-python highlight"><pre><span></span><code><span id=__span-32-1><a id=__codelineno-32-1 name=__codelineno-32-1 href=#__codelineno-32-1></a><span class=k>def</span> <span class=nf>compute_groupby</span><span class=p>(</span><span class=n>filename</span><span class=p>):</span>
</span><span id=__span-32-2><a id=__codelineno-32-2 name=__codelineno-32-2 href=#__codelineno-32-2></a>  <span class=n>dd</span> <span class=o>=</span> <span class=n>df</span><span class=o>.</span><span class=n>groupby</span><span class=p>([</span><span class=s2>&quot;bidder_id&quot;</span><span class=p>,</span> <span class=s2>&quot;time&quot;</span><span class=p>])</span><span class=o>.</span><span class=n>agg</span><span class=p>({</span>
</span><span id=__span-32-3><a id=__codelineno-32-3 name=__codelineno-32-3 href=#__codelineno-32-3></a>              <span class=s2>&quot;auction&quot;</span><span class=p>:</span><span class=k>lambda</span> <span class=n>x</span><span class=p>:</span> <span class=n>x</span><span class=o>.</span><span class=n>nunique</span><span class=p>()</span> <span class=o>-</span> <span class=mi>1</span><span class=p>,</span>
</span><span id=__span-32-4><a id=__codelineno-32-4 name=__codelineno-32-4 href=#__codelineno-32-4></a>              <span class=s2>&quot;device&quot;</span><span class=p>:</span><span class=k>lambda</span> <span class=n>x</span><span class=p>:</span> <span class=n>x</span><span class=o>.</span><span class=n>nunique</span><span class=p>()</span> <span class=o>-</span> <span class=mi>1</span><span class=p>,</span>
</span><span id=__span-32-5><a id=__codelineno-32-5 name=__codelineno-32-5 href=#__codelineno-32-5></a>              <span class=s2>&quot;country&quot;</span><span class=p>:</span><span class=k>lambda</span> <span class=n>x</span><span class=p>:</span> <span class=n>x</span><span class=o>.</span><span class=n>nunique</span><span class=p>()</span> <span class=o>-</span> <span class=mi>1</span><span class=p>,</span>
</span><span id=__span-32-6><a id=__codelineno-32-6 name=__codelineno-32-6 href=#__codelineno-32-6></a>              <span class=s2>&quot;ip&quot;</span><span class=p>:</span><span class=k>lambda</span> <span class=n>x</span><span class=p>:</span> <span class=n>x</span><span class=o>.</span><span class=n>nunique</span><span class=p>()</span> <span class=o>-</span> <span class=mi>1</span><span class=p>,</span>
</span><span id=__span-32-7><a id=__codelineno-32-7 name=__codelineno-32-7 href=#__codelineno-32-7></a>              <span class=s2>&quot;url&quot;</span><span class=p>:</span><span class=k>lambda</span> <span class=n>x</span><span class=p>:</span> <span class=n>x</span><span class=o>.</span><span class=n>nunique</span><span class=p>()</span> <span class=o>-</span> <span class=mi>1</span><span class=p>,</span>
</span><span id=__span-32-8><a id=__codelineno-32-8 name=__codelineno-32-8 href=#__codelineno-32-8></a>              <span class=s2>&quot;outcome&quot;</span><span class=p>:</span><span class=k>lambda</span> <span class=n>x</span><span class=p>:</span> <span class=n>x</span><span class=o>.</span><span class=n>unique</span><span class=p>()[</span><span class=mi>0</span><span class=p>]</span>
</span><span id=__span-32-9><a id=__codelineno-32-9 name=__codelineno-32-9 href=#__codelineno-32-9></a>              <span class=p>})</span>
</span><span id=__span-32-10><a id=__codelineno-32-10 name=__codelineno-32-10 href=#__codelineno-32-10></a>  <span class=n>cls_</span> <span class=o>=</span><span class=nb>list</span><span class=p>(</span><span class=nb>set</span><span class=p>(</span><span class=n>dd</span><span class=o>.</span><span class=n>columns</span><span class=p>)</span><span class=o>-</span><span class=p>{</span><span class=s1>&#39;outcome&#39;</span><span class=p>,</span><span class=s1>&#39;bidder_id&#39;</span><span class=p>,</span><span class=s1>&#39;time&#39;</span><span class=p>})</span>
</span><span id=__span-32-11><a id=__codelineno-32-11 name=__codelineno-32-11 href=#__codelineno-32-11></a>  <span class=n>dd</span><span class=p>[</span><span class=s2>&quot;my_agg&quot;</span><span class=p>]</span> <span class=o>=</span> <span class=n>dd</span><span class=p>[</span><span class=n>cls_</span><span class=p>]</span><span class=o>.</span><span class=n>sum</span><span class=p>(</span><span class=n>axis</span><span class=o>=</span><span class=mi>1</span><span class=p>)</span>
</span><span id=__span-32-12><a id=__codelineno-32-12 name=__codelineno-32-12 href=#__codelineno-32-12></a>  <span class=n>dd2</span> <span class=o>=</span> <span class=n>dd</span><span class=o>.</span><span class=n>reset_index</span><span class=p>()</span>
</span><span id=__span-32-13><a id=__codelineno-32-13 name=__codelineno-32-13 href=#__codelineno-32-13></a>  <span class=n>dd_min_per_bidder_id</span> <span class=o>=</span> <span class=p>{</span><span class=n>bidder_id</span><span class=p>:</span> <span class=n>dd2</span><span class=p>[</span><span class=n>dd2</span><span class=o>.</span><span class=n>bidder_id</span><span class=o>==</span><span class=n>bidder_id</span><span class=p>]</span><span class=o>.</span><span class=n>time</span><span class=o>.</span><span class=n>min</span><span class=p>()</span> <span class=k>for</span> <span class=n>bidder_id</span> <span class=ow>in</span> <span class=n>dd2</span><span class=o>.</span><span class=n>bidder_id</span><span class=o>.</span><span class=n>unique</span><span class=p>()}</span>
</span><span id=__span-32-14><a id=__codelineno-32-14 name=__codelineno-32-14 href=#__codelineno-32-14></a>
</span><span id=__span-32-15><a id=__codelineno-32-15 name=__codelineno-32-15 href=#__codelineno-32-15></a>  <span class=k>def</span> <span class=nf>modif_time</span><span class=p>(</span><span class=n>x</span><span class=p>):</span>
</span><span id=__span-32-16><a id=__codelineno-32-16 name=__codelineno-32-16 href=#__codelineno-32-16></a>    <span class=n>x</span><span class=p>[</span><span class=s2>&quot;time&quot;</span><span class=p>]</span> <span class=o>=</span> <span class=n>x</span><span class=p>[</span><span class=s2>&quot;time&quot;</span><span class=p>]</span> <span class=o>-</span> <span class=n>dd_min_per_bidder_id</span><span class=p>[</span><span class=n>x</span><span class=p>[</span><span class=s2>&quot;bidder_id&quot;</span><span class=p>]]</span>
</span><span id=__span-32-17><a id=__codelineno-32-17 name=__codelineno-32-17 href=#__codelineno-32-17></a>    <span class=k>return</span> <span class=n>x</span>
</span><span id=__span-32-18><a id=__codelineno-32-18 name=__codelineno-32-18 href=#__codelineno-32-18></a>
</span><span id=__span-32-19><a id=__codelineno-32-19 name=__codelineno-32-19 href=#__codelineno-32-19></a>  <span class=n>dd2</span> <span class=o>=</span> <span class=n>dd2</span><span class=o>.</span><span class=n>apply</span><span class=p>(</span><span class=n>modif_time</span><span class=p>,</span> <span class=n>axis</span><span class=o>=</span><span class=mi>1</span><span class=p>)</span>
</span><span id=__span-32-20><a id=__codelineno-32-20 name=__codelineno-32-20 href=#__codelineno-32-20></a>  <span class=n>dd2</span><span class=o>.</span><span class=n>to_csv</span><span class=p>(</span><span class=n>filename</span><span class=p>)</span>
</span><span id=__span-32-21><a id=__codelineno-32-21 name=__codelineno-32-21 href=#__codelineno-32-21></a>  <span class=k>return</span> <span class=n>dd2</span>
</span></code></pre></div> <h3 id=normalisation-tous-les-features><strong>Normalisation (tous les features)</strong><a class=headerlink href=#normalisation-tous-les-features title="Permanent link">&para;</a></h3> <p>Chaque variable est normalisée entre 0 et 1 à l'aide d'un min-max-scaler</p> <details class=info> <summary>Preview</summary> </details> <p><img alt=image src=../media/bot_detection_in_auction/image15.png></p> <p><img alt=image src=../media/bot_detection_in_auction/image16.png></p> <p><img alt=image src=../media/bot_detection_in_auction/image17.png></p> <details class=info> <summary>Histogramme</summary> </details> <p>Pour chaque variable, nous faisons un histogramme afin de comprendre l'explicabilité de nos variables explicatives par rapport à notre variable expliqué « outcome ». Nous ajoutons à ces diagrammes une estimation de la densité de chacune de ses variables.</p> <p>Comme nos données sont déséquilibrées par rapport à la variable expliqué, nous effectuons une augmentation de données par duplication pour ces visualisations.</p> <p>Les agrégations sur bidder_id :</p> <ul> <li><strong>Nb_ip</strong></li> </ul> <p><img alt=image src=../media/bot_detection_in_auction/image18.png> <img alt=image src=../media/bot_detection_in_auction/image19.png></p> <ul> <li><strong>Nb_auction</strong></li> </ul> <p><img alt=image src=../media/bot_detection_in_auction/image20.png> <img alt=image src=../media/bot_detection_in_auction/image21.png></p> <ul> <li><strong>Nb_device</strong></li> </ul> <p><img alt=image src=../media/bot_detection_in_auction/image22.png> <img alt=image src=../media/bot_detection_in_auction/image23.png></p> <ul> <li><strong>Nb_url</strong></li> </ul> <p><img alt=image src=../media/bot_detection_in_auction/image24.png> <img alt=image src=../media/bot_detection_in_auction/image25.png></p> <ul> <li>Nb_country</li> </ul> <p><img alt=image src=../media/bot_detection_in_auction/image26.png> <img alt=image src=../media/bot_detection_in_auction/image27.png></p> <ul> <li>Nb_bid</li> </ul> <p><img alt=image src=../media/bot_detection_in_auction/image28.png> <img alt=image src=../media/bot_detection_in_auction/image29.png></p> <p>On s'attends à ce que les robots effectuent plus d'opérations que les humains, ce qui se vérifie facilement dans ces diagrammes. En effet, on représente les histogrammes des variables (nb_ip, nb_auction, nb_device, nb_url, nb_country, nb_bid) (bleu pour les humains et rouge pour les robots).</p> <p>D'abord, on remarque qu'il y a beaucoup de valeurs nulles, ce qui signifie que pour chaque ressource (ip, url, ...), l'usage multiple de ces ressources n'est pas courant. En plus, parmi ceux qui font un usage multiple de ces ressources, on note des robots mais aussi des humains pour certaines ressources comme l'url ou l'appareil. Ce qui est contre intuitif, c'est que les humains dépassent parfois les robots sur ces métriques.</p> <p>Avec les variables suivantes, nous introduiront les produits achetés ainsi que le temps qui est très important.</p> <ul> <li><strong>Nb_merchandise_1 et 2 et 4 et 6</strong></li> </ul> <p><img alt=image src=../media/bot_detection_in_auction/image30.png> <img alt=image src=../media/bot_detection_in_auction/image31.png> <img alt=image src=../media/bot_detection_in_auction/image32.png> <img alt=image src=../media/bot_detection_in_auction/image33.png></p> <ul> <li><strong>Nb_merchandise_3</strong></li> </ul> <p><img alt=image src=../media/bot_detection_in_auction/image34.png><img alt=image src=../media/bot_detection_in_auction/image35.png></p> <ul> <li><strong>Nb_merchandise_5</strong></li> </ul> <p><img alt=image src=../media/bot_detection_in_auction/image36.png> <img alt=image src=../media/bot_detection_in_auction/image37.png></p> <p>Ces visualisations montrent bien que les robots se séparent des hommes quand l'utilisation des ressources augmente</p> <ul> <li>time</li> </ul> <p><img alt=image src=../media/bot_detection_in_auction/image38.png></p> <p>Cette variable est pertinante car la visualisation confirme l'évidence : le temps entre les connections des robots sont beaucoup plus court que ceux des hommes</p> <ul> <li>my_agg (aggrégation sur le bidder_id et le temps)</li> </ul> <p><img alt=image src=../media/bot_detection_in_auction/image39.png><img alt=image src=../media/bot_detection_in_auction/image40.png><img alt=image src=../media/bot_detection_in_auction/image41.png><img alt=image src=../media/bot_detection_in_auction/image42.png></p> <p>Les agrégations effectuées sur le temps et le bidder_id, sont pertinentes car les robots ont plus tendance à se connecter plusieurs fois de façon simultanée</p> <p>Nous avons fait des tests statistiques en plus de ces visualisations mais ils ne seront présentés que brièvement dans ce rapport.</p> <h3 id=binarization-on-continuous-features><strong>Binarization (on continuous features)</strong><a class=headerlink href=#binarization-on-continuous-features title="Permanent link">&para;</a></h3> <p>L'objectif est d'exploiter le pouvoir séparatif de nos variables afin de rendre les algorithmes de classification plus efficaces.</p> <p>Chaque feature est projetée sur l'espace {0,1} en définissant un seuil (threshold). Les valeurs supérieures au seuil correspondent à<br> 1, tandis que les valeurs inférieures ou égales au seuil correspondent à 0.</p> <p>Ce seuil est déterminé pour chaque feature. Pour cela, on choisit un nombre limité de valeurs possibles entre 0 et1 (range (0, 1, 0.05)). Pour chaque valeur,</p> <p>On transforme la série en variable catégorielle</p> <p><img alt=image src=../media/bot_detection_in_auction/image43.png></p> <p>On sépare la série en deux échantillons (outcome=0 vs outcome=1). Puis, on réalise un <a href=https://docs.scipy.org/doc/scipy/reference/generated/scipy.stats.ttest_ind.html>test de student</a> pour les moyennes de deux échantillons pour voir s'ils sont significativement différents</p> <p><img alt=image src=../media/bot_detection_in_auction/image43.png></p> <p>On sépare la série en deux échantillons selon les deux catégories. Puis, on calcule la proportion de robots dans chaque échantillon. Ensuite, on compare ces proportions à l'aide d'un z-test pour voir s'ils sont significativement différents</p> <p><img alt=image src=../media/bot_detection_in_auction/image44.png></p> <p>Si ces deux tests donnent des résultats conclusifs (p-value\&lt;0.05),<br> on les retients</p> <p>On choisit le seuil qui passe les deux tests avec des p-valeurs minimales. Ce seuil est utilisé pour transformer la variable continue en variable binaire (0 et 1)</p> <h3 id=resampling-techniques><strong>Resampling Techniques</strong><a class=headerlink href=#resampling-techniques title="Permanent link">&para;</a></h3> <p><img alt=image src=../media/bot_detection_in_auction/image5.png></p> <p>On remarque que sur 87 bidder_id, seuls 6 correspondent à des robots. Nous appliquons alors une méthode de oversampling nommée SMOTE. Cette méthode, ne duplique pas des lignes mais créé de nouveaux points à partir des anciens en trouvant des points au milieu des points existants.</p> <h2 id=strategie-dentrainement>Stratégie d'entrainement<a class=headerlink href=#strategie-dentrainement title="Permanent link">&para;</a></h2> <h3 id=split-train-test><strong>Split train test</strong><a class=headerlink href=#split-train-test title="Permanent link">&para;</a></h3> <p>Nous séparons d'abord notre base de données en deux parties. Une partie pour l'entrainement et une autre pour le test (50% du dataset).</p> <h3 id=models><strong>Models</strong><a class=headerlink href=#models title="Permanent link">&para;</a></h3> <p>Nous utilisons principalement des modèles de classification disponibles sous la librairie sklearn. Il s'agit notamment</p> <ul> <li> <p>Modèles linéaires (Régression logistique (sous sklearn ou statsmodels), Support vecteur Machine (SVC), Descente de gradient stochastique (SDG))</p> </li> <li> <p>Tree based (Arbre de décision, Random Forest)</p> </li> <li> <p>D'autres modèles (KNN, LDA)</p> </li> <li> <p>Des modèles ensemblistes (AdaBoost, Gradient Boosting)</p> </li> </ul> <p>Nous présenterons d'abord les résultats obtenus sur les algorithmes : <strong>Régression logistique, Support vecteur machine et random Forest</strong>.</p> <h3 id=choix-des-hyperparametres><strong>Choix des hyperparamètres</strong><a class=headerlink href=#choix-des-hyperparametres title="Permanent link">&para;</a></h3> <p>Pour certains modèles, nous utilisons une méthode nommée Grid Search. Nous choisissions certains paramètres importants ainsi que des valeurs possibles. Cette méthode améliore optimise le loss du modèle sur le training set en fonction des valeurs des hyperparamètres données.</p> <table> <thead> <tr> <th>Algorithm</th> <th>Parameters</th> <th>Objectives</th> </tr> </thead> <tbody> <tr> <td>Regression Logistic</td> <td>- max_iter: [5, 100, 1000, 2000] <br> - penalty: ["l1", "l2", "elasticnet", "none"] <br> - C: [0.01, 0.1, 0.5, 1] <br> - solver: ["lbfgs", "liblinear"]</td> <td>- Varying the number of iterations <br> - Testing different regularizations with different weights <br> - Testing the "liblinear" solver suitable for small datasets</td> </tr> <tr> <td>SVM</td> <td>- gamma='scale' <br> - probability=True <br> - C=1 <br> - kernel="linear" <br> - class_weight="balanced"</td> <td>- Utilizing a linear model</td> </tr> <tr> <td>Random Forest</td> <td>- max_depth: [1, 3, 5, 15, 25] <br> - max_leaf_nodes: [1, 3, 5, 15] <br> - n_estimators: [10, 50, 100] <br> - max_features: ["sqrt", "log2", None] <br> - criterion: ["gini", "entropy", "log_loss"]</td> <td>- Varying tree sizes but maintaining a maximum limit <br> - Testing different metrics, particularly the log-loss</td> </tr> </tbody> </table> <h3 id=selection-de-feature><strong>Selection de feature?</strong><a class=headerlink href=#selection-de-feature title="Permanent link">&para;</a></h3> <p>Nous avons fait nos modèles sur 19 variables et nous souhaitons tiliser 5 variables. Afin de sélectionner les variables les plus pertinentes pour chaque modèle, nous utilisons une méthode qui élimine les variables les moins importantes de façon itérative. Une implémentation est disponible sous sklearn à travers la fonction <a href=https://scikit-learn.org/stable/modules/generated/sklearn.feature_selection.RFE.html>RFE (recursive feature elimination)</a></p> <h2 id=metriques-de-validation>Métriques de validation<a class=headerlink href=#metriques-de-validation title="Permanent link">&para;</a></h2> <p>Afin de valider nos modèles, nous utilisons des métriques adaptées à la classification. Il s'agit de</p> <ul> <li> <p>Matrice de confusion : Elle montre le nombre de prédictions (bien classé vs mal classé) en fonction des catégories</p> </li> <li> <p>Précision : Mesure la capacité du modèle à identifier tous les humains même s'il classe mal des robots. Il réduit le nombre de faux positifs</p> </li> <li> <p>recall : Mesure la capacité du modèle à identifier tous les robots même si il classe mal des humains. Il réduit le nombre de faux négatifs</p> </li> </ul> <p><img alt="Calculation of Precision, Recall and Accuracy in the confusion matrix. | Download Scientific Diagram" src=../media/bot_detection_in_auction/image45.png></p> <ul> <li>f1 : elle combine la precision et le recall</li> </ul> <p><img alt="4 things you need to know about AI: accuracy, precision, recall and F1 scores" src=../media/bot_detection_in_auction/image46.png></p> <ul> <li>Courbe ROC : Calculer l\'aire sous la courbe ROC à partir des scores de prédiction.</li> </ul> <p>Toutes ces métriques sont disponibles sous <a href=https://scikit-learn.org/stable/modules/classes.html#module-sklearn.metrics>sklearn</a></p> <h2 id=prediction>Prédiction<a class=headerlink href=#prediction title="Permanent link">&para;</a></h2> <h3 id=librairies-utiles-pour-la-prediction>Librairies utiles pour la prédiction<a class=headerlink href=#librairies-utiles-pour-la-prediction title="Permanent link">&para;</a></h3> <div class="language-python highlight"><pre><span></span><code><span id=__span-33-1><a id=__codelineno-33-1 name=__codelineno-33-1 href=#__codelineno-33-1></a><span class=kn>from</span> <span class=nn>sklearn.linear_model</span> <span class=kn>import</span> <span class=n>LogisticRegression</span><span class=p>,</span> <span class=n>SGDClassifier</span>
</span><span id=__span-33-2><a id=__codelineno-33-2 name=__codelineno-33-2 href=#__codelineno-33-2></a><span class=kn>from</span> <span class=nn>sklearn.svm</span> <span class=kn>import</span> <span class=n>SVC</span>
</span><span id=__span-33-3><a id=__codelineno-33-3 name=__codelineno-33-3 href=#__codelineno-33-3></a><span class=kn>from</span> <span class=nn>sklearn.neighbors</span> <span class=kn>import</span> <span class=n>KNeighborsClassifier</span>
</span><span id=__span-33-4><a id=__codelineno-33-4 name=__codelineno-33-4 href=#__codelineno-33-4></a><span class=kn>from</span> <span class=nn>sklearn.model_selection</span> <span class=kn>import</span> <span class=n>GridSearchCV</span>
</span><span id=__span-33-5><a id=__codelineno-33-5 name=__codelineno-33-5 href=#__codelineno-33-5></a><span class=kn>from</span> <span class=nn>sklearn.tree</span> <span class=kn>import</span> <span class=n>DecisionTreeClassifier</span>
</span><span id=__span-33-6><a id=__codelineno-33-6 name=__codelineno-33-6 href=#__codelineno-33-6></a><span class=kn>from</span> <span class=nn>sklearn.discriminant_analysis</span> <span class=kn>import</span> <span class=n>LinearDiscriminantAnalysis</span>
</span><span id=__span-33-7><a id=__codelineno-33-7 name=__codelineno-33-7 href=#__codelineno-33-7></a><span class=kn>from</span> <span class=nn>sklearn.ensemble</span> <span class=kn>import</span> <span class=n>RandomForestClassifier</span>
</span><span id=__span-33-8><a id=__codelineno-33-8 name=__codelineno-33-8 href=#__codelineno-33-8></a><span class=kn>from</span> <span class=nn>sklearn.ensemble</span> <span class=kn>import</span> <span class=n>AdaBoostClassifier</span><span class=p>,</span> <span class=n>GradientBoostingClassifier</span>
</span><span id=__span-33-9><a id=__codelineno-33-9 name=__codelineno-33-9 href=#__codelineno-33-9></a><span class=kn>from</span> <span class=nn>sklearn</span> <span class=kn>import</span> <span class=n>metrics</span>
</span><span id=__span-33-10><a id=__codelineno-33-10 name=__codelineno-33-10 href=#__codelineno-33-10></a><span class=kn>from</span> <span class=nn>sklearn.metrics</span> <span class=kn>import</span> <span class=n>confusion_matrix</span><span class=p>,</span><span class=n>r2_score</span><span class=p>,</span><span class=n>accuracy_score</span><span class=p>,</span><span class=n>roc_auc_score</span><span class=p>,</span><span class=n>f1_score</span><span class=p>,</span><span class=n>precision_score</span><span class=p>,</span><span class=n>recall_score</span>
</span></code></pre></div> <h3 id=demarche>Démarche<a class=headerlink href=#demarche title="Permanent link">&para;</a></h3> <p>Les modèles sont utilisés dans une classe qui implémente la méthode suivante</p> <div class="language-python highlight"><pre><span></span><code><span id=__span-34-1><a id=__codelineno-34-1 name=__codelineno-34-1 href=#__codelineno-34-1></a><span class=k>def</span> <span class=nf>compute_all</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>model_name</span><span class=p>,</span> <span class=n>important_cols</span><span class=p>:</span><span class=nb>list</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span> <span class=n>oversample</span><span class=p>:</span><span class=nb>bool</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span> <span class=n>test_size</span><span class=p>:</span><span class=nb>float</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span> <span class=n>remove_cols</span><span class=p>:</span><span class=nb>list</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span> <span class=n>feature_eng</span><span class=p>:</span><span class=nb>bool</span><span class=o>=</span><span class=kc>None</span><span class=p>):</span>
</span><span id=__span-34-2><a id=__codelineno-34-2 name=__codelineno-34-2 href=#__codelineno-34-2></a>      <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;model loader: </span><span class=si>{</span><span class=bp>self</span><span class=o>.</span><span class=n>description</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>
</span><span id=__span-34-3><a id=__codelineno-34-3 name=__codelineno-34-3 href=#__codelineno-34-3></a>      <span class=n>list_fct</span> <span class=o>=</span> <span class=p>{</span>
</span><span id=__span-34-4><a id=__codelineno-34-4 name=__codelineno-34-4 href=#__codelineno-34-4></a>            <span class=s2>&quot;logit&quot;</span><span class=p>:</span> <span class=bp>self</span><span class=o>.</span><span class=n>logit_regression</span><span class=p>,</span>
</span><span id=__span-34-5><a id=__codelineno-34-5 name=__codelineno-34-5 href=#__codelineno-34-5></a>            <span class=s2>&quot;logistic&quot;</span><span class=p>:</span> <span class=n>logistic_regression_sklearn</span><span class=p>,</span>
</span><span id=__span-34-6><a id=__codelineno-34-6 name=__codelineno-34-6 href=#__codelineno-34-6></a>            <span class=s2>&quot;svc&quot;</span><span class=p>:</span> <span class=n>svc_classifier</span><span class=p>,</span>
</span><span id=__span-34-7><a id=__codelineno-34-7 name=__codelineno-34-7 href=#__codelineno-34-7></a>            <span class=s2>&quot;knn&quot;</span><span class=p>:</span><span class=n>knn_classifier</span><span class=p>,</span>
</span><span id=__span-34-8><a id=__codelineno-34-8 name=__codelineno-34-8 href=#__codelineno-34-8></a>            <span class=s2>&quot;sdg&quot;</span><span class=p>:</span><span class=n>sdg_classifier</span><span class=p>,</span>
</span><span id=__span-34-9><a id=__codelineno-34-9 name=__codelineno-34-9 href=#__codelineno-34-9></a>            <span class=s2>&quot;tree&quot;</span><span class=p>:</span><span class=n>decision_tree_classifier</span><span class=p>,</span>
</span><span id=__span-34-10><a id=__codelineno-34-10 name=__codelineno-34-10 href=#__codelineno-34-10></a>            <span class=s2>&quot;lda&quot;</span><span class=p>:</span> <span class=n>lda_classifier</span><span class=p>,</span>
</span><span id=__span-34-11><a id=__codelineno-34-11 name=__codelineno-34-11 href=#__codelineno-34-11></a>            <span class=s2>&quot;forest&quot;</span><span class=p>:</span><span class=n>random_forest_classifier</span><span class=p>,</span>
</span><span id=__span-34-12><a id=__codelineno-34-12 name=__codelineno-34-12 href=#__codelineno-34-12></a>            <span class=s2>&quot;ada&quot;</span><span class=p>:</span> <span class=n>ada_boost_classifier</span><span class=p>,</span>
</span><span id=__span-34-13><a id=__codelineno-34-13 name=__codelineno-34-13 href=#__codelineno-34-13></a>            <span class=s2>&quot;xgboost&quot;</span><span class=p>:</span> <span class=n>gradient_boosting_classifier</span>
</span><span id=__span-34-14><a id=__codelineno-34-14 name=__codelineno-34-14 href=#__codelineno-34-14></a>            <span class=p>}</span>
</span><span id=__span-34-15><a id=__codelineno-34-15 name=__codelineno-34-15 href=#__codelineno-34-15></a>
</span><span id=__span-34-16><a id=__codelineno-34-16 name=__codelineno-34-16 href=#__codelineno-34-16></a>      <span class=c1># transform, split and oversample</span>
</span><span id=__span-34-17><a id=__codelineno-34-17 name=__codelineno-34-17 href=#__codelineno-34-17></a>      <span class=n>X_train</span><span class=p>,</span> <span class=n>X_test</span><span class=p>,</span> <span class=n>y_train</span><span class=p>,</span> <span class=n>y_test</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>get_train_test</span><span class=p>(</span><span class=n>model_name</span><span class=o>=</span><span class=n>model_name</span><span class=p>,</span> <span class=n>important_cols</span><span class=o>=</span><span class=n>important_cols</span><span class=p>,</span> <span class=n>oversample</span><span class=o>=</span><span class=n>oversample</span><span class=p>,</span> <span class=n>test_size</span><span class=o>=</span><span class=n>test_size</span><span class=p>,</span> <span class=n>remove_cols</span><span class=o>=</span><span class=n>remove_cols</span><span class=p>,</span> <span class=n>feature_eng</span><span class=o>=</span><span class=n>feature_eng</span><span class=p>)</span>
</span><span id=__span-34-18><a id=__codelineno-34-18 name=__codelineno-34-18 href=#__codelineno-34-18></a>
</span><span id=__span-34-19><a id=__codelineno-34-19 name=__codelineno-34-19 href=#__codelineno-34-19></a>      <span class=c1># get model</span>
</span><span id=__span-34-20><a id=__codelineno-34-20 name=__codelineno-34-20 href=#__codelineno-34-20></a>      <span class=n>my_fct</span> <span class=o>=</span> <span class=n>list_fct</span><span class=p>[</span><span class=n>model_name</span><span class=p>]</span>
</span><span id=__span-34-21><a id=__codelineno-34-21 name=__codelineno-34-21 href=#__codelineno-34-21></a>      <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;</span><span class=si>{</span><span class=s1>&#39;&#39;</span><span class=si>:</span><span class=s2>~^50</span><span class=si>}</span><span class=se>\n</span><span class=si>{</span><span class=n>model_name</span><span class=si>:</span><span class=s2>~^50</span><span class=si>}</span><span class=se>\n</span><span class=si>{</span><span class=s1>&#39;&#39;</span><span class=si>:</span><span class=s2>~^50</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>
</span><span id=__span-34-22><a id=__codelineno-34-22 name=__codelineno-34-22 href=#__codelineno-34-22></a>
</span><span id=__span-34-23><a id=__codelineno-34-23 name=__codelineno-34-23 href=#__codelineno-34-23></a>      <span class=c1># train</span>
</span><span id=__span-34-24><a id=__codelineno-34-24 name=__codelineno-34-24 href=#__codelineno-34-24></a>      <span class=n>y_test_proba</span><span class=p>,</span> <span class=n>y_train_proba</span><span class=p>,</span> <span class=n>y_train_pred</span><span class=p>,</span> <span class=n>y_test_pred</span><span class=p>,</span> <span class=n>nb_params</span> <span class=o>=</span> <span class=n>my_fct</span><span class=p>(</span><span class=n>X_train</span><span class=p>,</span> <span class=n>y_train</span><span class=p>,</span> <span class=n>X_test</span><span class=p>,</span> <span class=n>y_test</span><span class=p>)</span>
</span><span id=__span-34-25><a id=__codelineno-34-25 name=__codelineno-34-25 href=#__codelineno-34-25></a>
</span><span id=__span-34-26><a id=__codelineno-34-26 name=__codelineno-34-26 href=#__codelineno-34-26></a>      <span class=c1># evaluate</span>
</span><span id=__span-34-27><a id=__codelineno-34-27 name=__codelineno-34-27 href=#__codelineno-34-27></a>      <span class=n>train_res</span><span class=p>,</span> <span class=n>test_res</span> <span class=o>=</span> <span class=n>show_results</span><span class=p>(</span><span class=n>y_train</span><span class=p>,</span> <span class=n>y_train_pred</span><span class=p>,</span> <span class=n>y_train_proba</span><span class=p>,</span><span class=n>y_test</span><span class=p>,</span> <span class=n>y_test_pred</span><span class=p>,</span> <span class=n>y_test_proba</span><span class=p>)</span>
</span><span id=__span-34-28><a id=__codelineno-34-28 name=__codelineno-34-28 href=#__codelineno-34-28></a>      <span class=n>g</span> <span class=o>=</span> <span class=sa>f</span><span class=s2>&quot;</span><span class=si>{</span><span class=n>model_name</span><span class=si>}</span><span class=s2>: nb_params = </span><span class=si>{</span><span class=n>nb_params</span><span class=si>}</span><span class=s2>&quot;</span>
</span><span id=__span-34-29><a id=__codelineno-34-29 name=__codelineno-34-29 href=#__codelineno-34-29></a>      <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;</span><span class=si>{</span><span class=n>g</span><span class=si>:</span><span class=s2>~^50</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>
</span></code></pre></div> <p>Cette méthode utilise des algorithmes qui implémentent chaque une méthode de classification avec comme valeur ajoutée</p> <ul> <li> <p>La sélection des hyperparamètres à l'aide de GridSearchCV</p> </li> <li> <p>Le choix éventuel d'un threshold plus optimal pour les méthodes qui générent des probabilités</p> </li> <li> <p>La sélection des variables avec RFE</p> </li> </ul> <p>Les résultats sont présentés avec cet algorithme</p> <div class="language-python highlight"><pre><span></span><code><span id=__span-35-1><a id=__codelineno-35-1 name=__codelineno-35-1 href=#__codelineno-35-1></a><span class=k>def</span> <span class=nf>return_dict_scores</span><span class=p>(</span><span class=n>y</span><span class=p>,</span> <span class=n>y_pred</span><span class=p>,</span> <span class=n>pred_proba</span><span class=p>):</span>
</span><span id=__span-35-2><a id=__codelineno-35-2 name=__codelineno-35-2 href=#__codelineno-35-2></a>  <span class=k>return</span> <span class=p>{</span><span class=s2>&quot;acc&quot;</span><span class=p>:</span><span class=nb>round</span><span class=p>(</span><span class=n>accuracy_score</span><span class=p>(</span><span class=n>y_pred</span><span class=p>,</span> <span class=n>y</span><span class=p>),</span><span class=mi>3</span><span class=p>),</span> <span class=s2>&quot;f1&quot;</span><span class=p>:</span><span class=nb>round</span><span class=p>(</span><span class=n>f1_score</span><span class=p>(</span><span class=n>y_pred</span><span class=p>,</span> <span class=n>y</span><span class=p>),</span><span class=mi>3</span><span class=p>),</span> <span class=s2>&quot;pres&quot;</span><span class=p>:</span><span class=nb>round</span><span class=p>(</span><span class=n>precision_score</span><span class=p>(</span><span class=n>y_pred</span><span class=p>,</span> <span class=n>y</span><span class=p>),</span><span class=mi>3</span><span class=p>),</span> <span class=s2>&quot;rec&quot;</span><span class=p>:</span><span class=nb>round</span><span class=p>(</span><span class=n>recall_score</span><span class=p>(</span><span class=n>y_pred</span><span class=p>,</span> <span class=n>y</span><span class=p>),</span><span class=mi>3</span><span class=p>),</span> <span class=s2>&quot;roc&quot;</span><span class=p>:</span><span class=nb>round</span><span class=p>(</span><span class=n>roc_auc_score</span><span class=p>(</span><span class=n>y_pred</span><span class=p>,</span> <span class=n>pred_proba</span><span class=p>),</span><span class=mi>3</span><span class=p>)}</span>
</span><span id=__span-35-3><a id=__codelineno-35-3 name=__codelineno-35-3 href=#__codelineno-35-3></a>
</span><span id=__span-35-4><a id=__codelineno-35-4 name=__codelineno-35-4 href=#__codelineno-35-4></a><span class=k>def</span> <span class=nf>bestThressholdForF1</span><span class=p>(</span><span class=n>y_true</span><span class=p>,</span><span class=n>y_pred_proba</span><span class=p>):</span>
</span><span id=__span-35-5><a id=__codelineno-35-5 name=__codelineno-35-5 href=#__codelineno-35-5></a>    <span class=n>best_thresh</span> <span class=o>=</span> <span class=kc>None</span>
</span><span id=__span-35-6><a id=__codelineno-35-6 name=__codelineno-35-6 href=#__codelineno-35-6></a>    <span class=n>best_score</span> <span class=o>=</span> <span class=mi>0</span>
</span><span id=__span-35-7><a id=__codelineno-35-7 name=__codelineno-35-7 href=#__codelineno-35-7></a>    <span class=k>for</span> <span class=n>thresh</span> <span class=ow>in</span> <span class=n>np</span><span class=o>.</span><span class=n>arange</span><span class=p>(</span><span class=mf>0.1</span><span class=p>,</span> <span class=mf>0.501</span><span class=p>,</span> <span class=mf>0.01</span><span class=p>):</span>
</span><span id=__span-35-8><a id=__codelineno-35-8 name=__codelineno-35-8 href=#__codelineno-35-8></a>        <span class=n>y_pred</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>array</span><span class=p>(</span><span class=n>y_pred_proba</span><span class=p>)</span><span class=o>&gt;</span><span class=n>thresh</span>
</span><span id=__span-35-9><a id=__codelineno-35-9 name=__codelineno-35-9 href=#__codelineno-35-9></a>        <span class=n>score</span> <span class=o>=</span> <span class=n>f1_score</span><span class=p>(</span><span class=n>y_true</span><span class=p>,</span> <span class=n>y_pred</span><span class=p>)</span>
</span><span id=__span-35-10><a id=__codelineno-35-10 name=__codelineno-35-10 href=#__codelineno-35-10></a>        <span class=k>if</span> <span class=n>score</span> <span class=o>&gt;</span> <span class=n>best_score</span><span class=p>:</span>
</span><span id=__span-35-11><a id=__codelineno-35-11 name=__codelineno-35-11 href=#__codelineno-35-11></a>            <span class=n>best_thresh</span> <span class=o>=</span> <span class=n>thresh</span>
</span><span id=__span-35-12><a id=__codelineno-35-12 name=__codelineno-35-12 href=#__codelineno-35-12></a>            <span class=n>best_score</span> <span class=o>=</span> <span class=n>score</span>
</span><span id=__span-35-13><a id=__codelineno-35-13 name=__codelineno-35-13 href=#__codelineno-35-13></a>    <span class=k>return</span> <span class=n>best_score</span> <span class=p>,</span> <span class=n>best_thresh</span><span class=p>,</span> <span class=n>return_dict_scores</span><span class=p>(</span><span class=n>y_true</span><span class=p>,</span> <span class=n>y_pred</span><span class=p>,</span> <span class=n>y_pred_proba</span><span class=p>)</span>
</span><span id=__span-35-14><a id=__codelineno-35-14 name=__codelineno-35-14 href=#__codelineno-35-14></a>
</span><span id=__span-35-15><a id=__codelineno-35-15 name=__codelineno-35-15 href=#__codelineno-35-15></a><span class=k>def</span> <span class=nf>print_metrics</span><span class=p>(</span><span class=n>y</span><span class=p>,</span> <span class=n>y_pred</span><span class=p>,</span><span class=n>pred_proba</span><span class=p>):</span>
</span><span id=__span-35-16><a id=__codelineno-35-16 name=__codelineno-35-16 href=#__codelineno-35-16></a>  <span class=nb>print</span><span class=p>(</span><span class=s2>&quot;- confusion_matrix</span><span class=se>\n</span><span class=s2>&quot;</span><span class=p>,</span><span class=n>confusion_matrix</span><span class=p>(</span><span class=n>y</span><span class=p>,</span> <span class=n>y_pred</span><span class=p>))</span>
</span><span id=__span-35-17><a id=__codelineno-35-17 name=__codelineno-35-17 href=#__codelineno-35-17></a>  <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;- accuracy = </span><span class=si>{</span><span class=mi>100</span><span class=o>*</span><span class=n>accuracy_score</span><span class=p>(</span><span class=n>y</span><span class=p>,</span><span class=w> </span><span class=n>y_pred</span><span class=p>)</span><span class=si>:</span><span class=s2>.2f</span><span class=si>}</span><span class=s2>%&quot;</span><span class=p>)</span> <span class=c1>#better -&gt;1 ##accuracy = nb_sucess/nb_sample</span>
</span><span id=__span-35-18><a id=__codelineno-35-18 name=__codelineno-35-18 href=#__codelineno-35-18></a>  <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;- f1 = </span><span class=si>{</span><span class=mi>100</span><span class=o>*</span><span class=n>f1_score</span><span class=p>(</span><span class=n>y</span><span class=p>,</span><span class=w> </span><span class=n>y_pred</span><span class=p>)</span><span class=si>:</span><span class=s2>.2f</span><span class=si>}</span><span class=s2>%&quot;</span><span class=p>)</span> <span class=c1>#better -&gt;1 ##f1 = 2 * (precision * recall) / (precision + recall)</span>
</span><span id=__span-35-19><a id=__codelineno-35-19 name=__codelineno-35-19 href=#__codelineno-35-19></a>  <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;- roc(area under the curve) = </span><span class=si>{</span><span class=mi>100</span><span class=o>*</span><span class=n>roc_auc_score</span><span class=p>(</span><span class=n>y</span><span class=p>,</span><span class=w> </span><span class=n>pred_proba</span><span class=p>)</span><span class=si>:</span><span class=s2>.2f</span><span class=si>}</span><span class=s2>%&quot;</span><span class=p>)</span> <span class=c1>#better -&gt;1 ##area under ROC and AUC</span>
</span><span id=__span-35-20><a id=__codelineno-35-20 name=__codelineno-35-20 href=#__codelineno-35-20></a>  <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;- precision = </span><span class=si>{</span><span class=mi>100</span><span class=o>*</span><span class=n>precision_score</span><span class=p>(</span><span class=n>y</span><span class=p>,</span><span class=w> </span><span class=n>y_pred</span><span class=p>)</span><span class=si>:</span><span class=s2>.2f</span><span class=si>}</span><span class=s2>%&quot;</span><span class=p>)</span> <span class=c1>#better-&gt;1 ##precision = tp / (tp + fp) where (tp=true_positive; fp:false_positive)</span>
</span><span id=__span-35-21><a id=__codelineno-35-21 name=__codelineno-35-21 href=#__codelineno-35-21></a>  <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;- recall = </span><span class=si>{</span><span class=mi>100</span><span class=o>*</span><span class=n>recall_score</span><span class=p>(</span><span class=n>y</span><span class=p>,</span><span class=w> </span><span class=n>y_pred</span><span class=p>)</span><span class=si>:</span><span class=s2>.2f</span><span class=si>}</span><span class=s2>%&quot;</span><span class=p>)</span> <span class=c1>#better-&gt;1 ##precision = tp / (tp + fn) where (tp=true_positive; fn:false_negative)</span>
</span><span id=__span-35-22><a id=__codelineno-35-22 name=__codelineno-35-22 href=#__codelineno-35-22></a>  <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;- bestThressholdForF1 = </span><span class=si>{</span><span class=n>bestThressholdForF1</span><span class=p>(</span><span class=n>y</span><span class=p>,</span><span class=n>pred_proba</span><span class=p>)</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>
</span><span id=__span-35-23><a id=__codelineno-35-23 name=__codelineno-35-23 href=#__codelineno-35-23></a>  <span class=k>return</span> <span class=n>return_dict_scores</span><span class=p>(</span><span class=n>y</span><span class=p>,</span> <span class=n>y_pred</span><span class=p>,</span> <span class=n>pred_proba</span><span class=p>)</span>
</span><span id=__span-35-24><a id=__codelineno-35-24 name=__codelineno-35-24 href=#__codelineno-35-24></a>
</span><span id=__span-35-25><a id=__codelineno-35-25 name=__codelineno-35-25 href=#__codelineno-35-25></a><span class=k>def</span> <span class=nf>show_results</span><span class=p>(</span><span class=n>y_train</span><span class=p>,</span> <span class=n>y_train_pred</span><span class=p>,</span> <span class=n>y_train_proba</span><span class=p>,</span><span class=n>y_test</span><span class=p>,</span> <span class=n>y_test_pred</span><span class=p>,</span> <span class=n>y_test_proba</span> <span class=p>):</span>
</span><span id=__span-35-26><a id=__codelineno-35-26 name=__codelineno-35-26 href=#__codelineno-35-26></a>  <span class=nb>print</span><span class=p>(</span><span class=s2>&quot;</span><span class=se>\n</span><span class=s2>&gt;&gt;&gt;&gt; metriques sur la base de données d&#39;entrainement&quot;</span><span class=p>)</span>
</span><span id=__span-35-27><a id=__codelineno-35-27 name=__codelineno-35-27 href=#__codelineno-35-27></a>  <span class=n>train_res</span> <span class=o>=</span> <span class=n>print_metrics</span><span class=p>(</span><span class=n>y_train</span><span class=p>,</span><span class=n>y_train_pred</span><span class=p>,</span><span class=n>y_train_proba</span><span class=p>)</span>
</span><span id=__span-35-28><a id=__codelineno-35-28 name=__codelineno-35-28 href=#__codelineno-35-28></a>  <span class=nb>print</span><span class=p>(</span><span class=s2>&quot;</span><span class=se>\n</span><span class=s2>&gt;&gt;&gt;&gt; metriques sur la base de données de test&quot;</span><span class=p>)</span>
</span><span id=__span-35-29><a id=__codelineno-35-29 name=__codelineno-35-29 href=#__codelineno-35-29></a>  <span class=n>test_res</span> <span class=o>=</span> <span class=n>print_metrics</span><span class=p>(</span><span class=n>y_test</span><span class=p>,</span> <span class=n>y_test_pred</span><span class=p>,</span><span class=n>y_test_proba</span><span class=p>)</span>
</span><span id=__span-35-30><a id=__codelineno-35-30 name=__codelineno-35-30 href=#__codelineno-35-30></a>  <span class=k>return</span> <span class=n>train_res</span><span class=p>,</span> <span class=n>test_res</span>
</span></code></pre></div> <h3 id=quelques-exemples>Quelques exemples<a class=headerlink href=#quelques-exemples title="Permanent link">&para;</a></h3> <ul> <li>Régression logistique</li> </ul> <div class="language-python highlight"><pre><span></span><code><span id=__span-36-1><a id=__codelineno-36-1 name=__codelineno-36-1 href=#__codelineno-36-1></a><span class=k>def</span> <span class=nf>logistic_regression_sklearn</span><span class=p>(</span><span class=n>X_train</span><span class=p>,</span> <span class=n>y_train</span><span class=p>,</span> <span class=n>X_test</span><span class=p>,</span> <span class=n>y_test</span><span class=p>):</span>
</span><span id=__span-36-2><a id=__codelineno-36-2 name=__codelineno-36-2 href=#__codelineno-36-2></a>  <span class=n>parameters</span> <span class=o>=</span> <span class=p>{</span><span class=s2>&quot;max_iter&quot;</span><span class=p>:[</span><span class=mi>5</span><span class=p>,</span><span class=mi>100</span><span class=p>,</span><span class=mi>1000</span><span class=p>,</span><span class=mi>2000</span><span class=p>],</span> <span class=s2>&quot;penalty&quot;</span><span class=p>:[</span><span class=s2>&quot;l1&quot;</span><span class=p>,</span> <span class=s2>&quot;l2&quot;</span><span class=p>,</span> <span class=s2>&quot;elasticnet&quot;</span><span class=p>,</span> <span class=s2>&quot;none&quot;</span><span class=p>],</span> <span class=s2>&quot;C&quot;</span><span class=p>:[</span><span class=mf>0.01</span><span class=p>,</span> <span class=mf>0.1</span><span class=p>,</span> <span class=mf>0.5</span><span class=p>,</span> <span class=mi>1</span><span class=p>],</span> <span class=s2>&quot;solver&quot;</span><span class=p>:[</span><span class=s2>&quot;lbfgs&quot;</span><span class=p>,</span> <span class=s2>&quot;liblinear&quot;</span><span class=p>]}</span>
</span><span id=__span-36-3><a id=__codelineno-36-3 name=__codelineno-36-3 href=#__codelineno-36-3></a>  <span class=n>clf</span> <span class=o>=</span> <span class=n>GridSearchCV</span><span class=p>(</span><span class=n>LogisticRegression</span><span class=p>(</span><span class=n>random_state</span><span class=o>=</span><span class=mi>0</span><span class=p>,</span> <span class=n>class_weight</span><span class=o>=</span><span class=s2>&quot;balanced&quot;</span><span class=p>),</span> <span class=n>parameters</span><span class=p>)</span><span class=o>.</span><span class=n>fit</span><span class=p>(</span><span class=n>X_train</span><span class=p>,</span> <span class=n>y_train</span><span class=p>)</span>
</span><span id=__span-36-4><a id=__codelineno-36-4 name=__codelineno-36-4 href=#__codelineno-36-4></a>  <span class=nb>print</span><span class=p>(</span><span class=n>clf</span><span class=o>.</span><span class=n>best_params_</span><span class=p>)</span>
</span><span id=__span-36-5><a id=__codelineno-36-5 name=__codelineno-36-5 href=#__codelineno-36-5></a>
</span><span id=__span-36-6><a id=__codelineno-36-6 name=__codelineno-36-6 href=#__codelineno-36-6></a>  <span class=c1>#clf = LogisticRegression(random_state=0, max_iter=1000, class_weight=&quot;balanced&quot;).fit(X_train, y_train)</span>
</span><span id=__span-36-7><a id=__codelineno-36-7 name=__codelineno-36-7 href=#__codelineno-36-7></a>  <span class=n>y_train_pred</span> <span class=o>=</span> <span class=n>clf</span><span class=o>.</span><span class=n>predict</span><span class=p>(</span><span class=n>X_train</span><span class=p>)</span>
</span><span id=__span-36-8><a id=__codelineno-36-8 name=__codelineno-36-8 href=#__codelineno-36-8></a>  <span class=n>y_test_pred</span> <span class=o>=</span> <span class=n>clf</span><span class=o>.</span><span class=n>predict</span><span class=p>(</span><span class=n>X_test</span><span class=p>)</span>
</span><span id=__span-36-9><a id=__codelineno-36-9 name=__codelineno-36-9 href=#__codelineno-36-9></a>  <span class=n>y_train_proba</span> <span class=o>=</span> <span class=n>clf</span><span class=o>.</span><span class=n>predict_proba</span><span class=p>(</span><span class=n>X_train</span><span class=p>)[:,</span> <span class=mi>1</span><span class=p>]</span> <span class=c1>#[proba({label=1}/row_data) for row_data in X_train]</span>
</span><span id=__span-36-10><a id=__codelineno-36-10 name=__codelineno-36-10 href=#__codelineno-36-10></a>  <span class=n>y_test_proba</span> <span class=o>=</span> <span class=n>clf</span><span class=o>.</span><span class=n>predict_proba</span><span class=p>(</span><span class=n>X_test</span><span class=p>)[:,</span> <span class=mi>1</span><span class=p>]</span>
</span><span id=__span-36-11><a id=__codelineno-36-11 name=__codelineno-36-11 href=#__codelineno-36-11></a>  <span class=k>return</span> <span class=n>y_test_proba</span><span class=p>,</span> <span class=n>y_train_proba</span><span class=p>,</span> <span class=n>y_train_pred</span><span class=p>,</span> <span class=n>y_test_pred</span><span class=p>,</span> <span class=nb>len</span><span class=p>(</span><span class=n>clf</span><span class=o>.</span><span class=n>feature_names_in_</span><span class=p>)</span>
</span></code></pre></div> <ul> <li>Knn</li> </ul> <div class="language-python highlight"><pre><span></span><code><span id=__span-37-1><a id=__codelineno-37-1 name=__codelineno-37-1 href=#__codelineno-37-1></a><span class=k>def</span> <span class=nf>knn_classifier</span><span class=p>(</span><span class=n>X_train</span><span class=p>,</span> <span class=n>y_train</span><span class=p>,</span> <span class=n>X_test</span><span class=p>,</span> <span class=n>y_test</span><span class=p>):</span>
</span><span id=__span-37-2><a id=__codelineno-37-2 name=__codelineno-37-2 href=#__codelineno-37-2></a>  <span class=n>parameters</span> <span class=o>=</span> <span class=p>{</span><span class=s2>&quot;n_neighbors&quot;</span><span class=p>:[</span><span class=mi>1</span><span class=p>,</span><span class=mi>2</span><span class=p>,</span><span class=mi>5</span><span class=p>,</span><span class=mi>10</span><span class=p>,</span><span class=mi>15</span><span class=p>,</span><span class=mi>20</span><span class=p>]}</span>
</span><span id=__span-37-3><a id=__codelineno-37-3 name=__codelineno-37-3 href=#__codelineno-37-3></a>  <span class=n>clf</span> <span class=o>=</span> <span class=n>GridSearchCV</span><span class=p>(</span><span class=n>KNeighborsClassifier</span><span class=p>(),</span> <span class=n>parameters</span><span class=p>)</span><span class=o>.</span><span class=n>fit</span><span class=p>(</span><span class=n>X_train</span><span class=p>,</span> <span class=n>y_train</span><span class=p>)</span>
</span><span id=__span-37-4><a id=__codelineno-37-4 name=__codelineno-37-4 href=#__codelineno-37-4></a>  <span class=nb>print</span><span class=p>(</span><span class=n>clf</span><span class=o>.</span><span class=n>best_params_</span><span class=p>)</span>
</span><span id=__span-37-5><a id=__codelineno-37-5 name=__codelineno-37-5 href=#__codelineno-37-5></a>  <span class=c1>#clf = KNeighborsClassifier(n_neighbors=10).fit(X_train, y_train)</span>
</span><span id=__span-37-6><a id=__codelineno-37-6 name=__codelineno-37-6 href=#__codelineno-37-6></a>  <span class=n>y_train_pred</span> <span class=o>=</span> <span class=n>clf</span><span class=o>.</span><span class=n>predict</span><span class=p>(</span><span class=n>X_train</span><span class=p>)</span>
</span><span id=__span-37-7><a id=__codelineno-37-7 name=__codelineno-37-7 href=#__codelineno-37-7></a>  <span class=n>y_test_pred</span> <span class=o>=</span> <span class=n>clf</span><span class=o>.</span><span class=n>predict</span><span class=p>(</span><span class=n>X_test</span><span class=p>)</span>
</span><span id=__span-37-8><a id=__codelineno-37-8 name=__codelineno-37-8 href=#__codelineno-37-8></a>  <span class=n>y_train_proba</span> <span class=o>=</span> <span class=n>clf</span><span class=o>.</span><span class=n>predict_proba</span><span class=p>(</span><span class=n>X_train</span><span class=p>)[:,</span> <span class=mi>1</span><span class=p>]</span> <span class=c1>#[proba({label=1}/row_data) for row_data in X_train]</span>
</span><span id=__span-37-9><a id=__codelineno-37-9 name=__codelineno-37-9 href=#__codelineno-37-9></a>  <span class=n>y_test_proba</span> <span class=o>=</span> <span class=n>clf</span><span class=o>.</span><span class=n>predict_proba</span><span class=p>(</span><span class=n>X_test</span><span class=p>)[:,</span> <span class=mi>1</span><span class=p>]</span>
</span><span id=__span-37-10><a id=__codelineno-37-10 name=__codelineno-37-10 href=#__codelineno-37-10></a>  <span class=k>return</span> <span class=n>y_test_proba</span><span class=p>,</span> <span class=n>y_train_proba</span><span class=p>,</span> <span class=n>y_train_pred</span><span class=p>,</span> <span class=n>y_test_pred</span><span class=p>,</span> <span class=nb>len</span><span class=p>(</span><span class=n>clf</span><span class=o>.</span><span class=n>feature_names_in_</span><span class=p>)</span>
</span></code></pre></div> <h3 id=algorithmes>Algorithmes<a class=headerlink href=#algorithmes title="Permanent link">&para;</a></h3> <p><img alt=image src=../media/bot_detection_in_auction/image51.png></p> <h3 id=configurations>Configurations<a class=headerlink href=#configurations title="Permanent link">&para;</a></h3> <ul> <li>Base de données utilisée : Par défaut, c'est une base de données de 87 lignes qui contient tous les features qu'on a cauculé auparavant</li> </ul> <p><img alt=image src=../media/bot_detection_in_auction/image52.png></p> <ul> <li> <p>Oversampling : par défaut True. Dans ce cas, on utilise la méthode SMOTE</p> </li> <li> <p>Test_size : par défaut 50%</p> </li> <li> <p>Feature_eng : si on applique le binarizer aux données avant l'entrainement. Oui par défaut</p> </li> <li> <p>Important_cols : la liste des colonnes à sélectionner : par défaut, toutes les colonnes sont utilisées même si on fera un filtre pendant le fine tuning du modèle (RFE)</p> </li> </ul> <h3 id=resultats>Résultats<a class=headerlink href=#resultats title="Permanent link">&para;</a></h3> <ul> <li><strong>Algorithmique</strong></li> </ul> <p><img alt=image src=../media/bot_detection_in_auction/image53.png></p> <ul> <li><strong>Dataset avec oversampling (SMOTE) appliqué juste au training set</strong></li> </ul> <p><img alt=image src=../media/bot_detection_in_auction/image54.png></p> <ul> <li><strong>Dataset avec oversampling (Duplication) appliqué à tout le dataset</strong></li> </ul> <p><img alt=image src=../media/bot_detection_in_auction/image55.png></p> <ul> <li><strong>Dataset avec oversampling (SMOTE) appliqué à tout le dataset</strong></li> </ul> <p><img alt=image src=../media/bot_detection_in_auction/image56.png></p> <details class=info> <summary>Légende</summary> </details> <ul> <li> <p>acc : accuracy score</p> </li> <li> <p>f1 : f1 score</p> </li> <li> <p>pres : precision score</p> </li> <li> <p>rec : recall score</p> </li> <li> <p>roc : area under the curve</p> </li> <li> <p>Ada: AdaBoost</p> </li> <li> <p>Forest: Random Forest</p> </li> <li> <p>Knn: K nearest neighbors</p> </li> <li> <p>Lda: Linear Discriminant analysis</p> </li> <li> <p>logistic: Logistic regression (sklearn)</p> </li> <li> <p>Logit: Logistic regression Analysis (statsmodels)</p> </li> <li> <p>Sgd: Descente de gradient stochastique</p> </li> <li> <p>Svc : Support vecteur Machine</p> </li> <li> <p>Tree : Arbre de decision</p> </li> <li> <p>Xgboost : Gradient Bossting</p> </li> </ul> <h3 id=comparaison-des-modeles><strong>Comparaison des modèles</strong><a class=headerlink href=#comparaison-des-modeles title="Permanent link">&para;</a></h3> <p>Nous remarquons en général, que nos modèles sur des features limités ou non, donnent les résultats intéressants</p> <ul> <li> <p>Des accuracy &gt; 0.9 sur tous nos datasets, ce qui n'est pas étonnant vu qu'un tuning est fait sur les hyperparamètres pendant et après l'entrainement.</p> </li> <li> <p>Presque tous les recall des modèles donnent un résultat de 100% </p> </li> <li> <p>Pour les modèles (random Forest, regression logistique, SVM et decision tree), nous avons sélectionné 4 paramètres et les résultats sont toujours aussi bons. Ces modèles sont donc meilleurs que les autres car plus explicables notamment la regression logistique. Concernat les modèles basés sur les arbres (random Forest et decision tree), les visualisations (qui seront montrés en bas) montrent que les rabres sont très lisibles (profondeur de 3 et largeur faible car limité dans le hyperparameter tuning)</p> </li> <li> <p>Concernant le choix de la méthode de oversampling, nous pouvons, en comparer les 3 tables,</p> </li> <li> <p>remarquer que malgré de bon recall, la première table montre des précisions de moins de 50% sur le test alors que les précisions sont supérieures à 90% sur le train, ce qui montre du overfitting. Cette première table représente le dataset où on a appliqué le oversampling juste sur le training set.</p> </li> <li> <p>Remarquer que la table 3 présente en général de meilleurs résultats que la table 2, ce qui montre que la méthode SMOTE est plus explicative qu'une simple duplication des données non représentatives.</p> </li> </ul> <p>En conclusion, il est préférable d'utiliser des modèles à peu de variables car ils sont relativement aussi bons que les autres. Il est également préférable d'utiliser SMOTE comme méthode d'oversampling et de l'appliquer à tout le dataset avant l'entrainement</p> <h2 id=review>Review<a class=headerlink href=#review title="Permanent link">&para;</a></h2> <h3 id=overfitting><strong>Overfitting</strong><a class=headerlink href=#overfitting title="Permanent link">&para;</a></h3> <p>Il n'y a pas eu quelques phénomènes d'overfitting pendant l'implémentation.</p> <p>Comme un tuning important a été fait sur les hyperparamètres et qu'on a un nombre assez limité de données, l'overfitting est évité en utilisant 50% de la base de données pour le test. Pour compenser le nombre limité de données en train et l'impact du déséquilibre des classes, nous appliquons la méthode SMOTE sur notre base de données. Néanmoins, même quand on applique la méthode SMOTE uniquement sur la base de données d'entrainement, on a également de bons résultats</p> <h3 id=choix-techniques><strong>Choix techniques</strong><a class=headerlink href=#choix-techniques title="Permanent link">&para;</a></h3> <ul> <li> <p>Dans la construction des features, nous avons calculé pour chaque bidder_id, des aggrégations. Ce sont des sommes. On améliore le pouvoir de séparabilité en normalisant ces données par rapport au nombre de bid auquels le bidder_id a participé.</p> </li> <li> <p>Faire un oversampling sur toute le dataset ou juste sur le training set : le choix est fait en fonction du modèle</p> </li> </ul> <h3 id=explicabilite-des-resultats><strong>Explicabilité des résultats</strong><a class=headerlink href=#explicabilite-des-resultats title="Permanent link">&para;</a></h3> <h4 id=regression-logistique>Régression Logistique<a class=headerlink href=#regression-logistique title="Permanent link">&para;</a></h4> <h4 id=random-forest>Random Forest<a class=headerlink href=#random-forest title="Permanent link">&para;</a></h4> <p><img alt=image src=../media/bot_detection_in_auction/image57.png> <img alt=image src=../media/bot_detection_in_auction/image58.png></p> <p><img alt=image src=../media/bot_detection_in_auction/image59.png></p> <p>Ce modèle utilise 5 arbres de décisions et 4 variables et obtient une precision de 87% et un recall de 85%. Les processus de décision est assez simple et intuitif. Par ailleurs, on peut avoir de meilleurs résultats en moyennant les calculs (par groupe de bidder_id) par le nombre de bid. On a une amélioration des métriques</p> <h4 id=random-forest-avec-moyenne-par-groupe>Random Forest (avec moyenne par groupe)<a class=headerlink href=#random-forest-avec-moyenne-par-groupe title="Permanent link">&para;</a></h4> <p><img alt=image src=../media/bot_detection_in_auction/image60.png><img alt=image src=../media/bot_detection_in_auction/image61.png></p> <p><img alt=image src=../media/bot_detection_in_auction/image62.png> </p> <p><img alt=image src=../media/bot_detection_in_auction/image63.png></p> <p>Ce modèle utilise 5 arbres de décisions et 4 variables</p> <ul> <li> <p>Nb_auction</p> </li> <li> <p>Nb_device</p> </li> <li> <p>Nb_country</p> </li> <li> <p>Nb_url</p> </li> </ul> <p>Ces variables ont été moyennées par rapport au nombre de bid auxquels ils ont participé. Ainsi, on remarque que conformément aux résultats obtenus dans l'étape de feature engineering, les nombre d'appareils petits correspondent à des humains ; les url et les enchères et pays de petites valeurs correspondent à des robots</p> <h4 id=support-vecteur-machine>Support vecteur Machine<a class=headerlink href=#support-vecteur-machine title="Permanent link">&para;</a></h4> <p>Avec 4 variables, on ne peut pas voir les séparations linéaires mais on n'a pas voulu appliquer des méthodes supplémentaires de réduction de dimension telles que PCA ou SVD. Néanmoins, le nombre limité de features et les bons résultats obtenus sur ce modèle montre qu'on pourrait avec plus d'analyses expliquer les résultats.</p> <h4 id=decision-tree>Decision Tree<a class=headerlink href=#decision-tree title="Permanent link">&para;</a></h4> <p><img alt=image src=../media/bot_detection_in_auction/image64.png></p> <p><img alt=image src=../media/bot_detection_in_auction/image65.png></p> <p>Les résultats sont très bons avec un processus de décision assez simple et explicable.</p> <h3 id=discussion><strong>Discussion</strong><a class=headerlink href=#discussion title="Permanent link">&para;</a></h3> <ul> <li> <p>Les modèles donnent en général de bons résultats avec la normalisation</p> </li> <li> <p>Nous avons utilisé une table avec des unique bidder_id pour aggréger en évitant les données dupliquées, ce qui a réduit le nombre de points de données. Mais, ensuite, nous avons fait du oversampling. Néanmoins, nous avons utilisé SMOTE, une méthode de oversampling qui ne duplique pas simplement les données. Mais unee base de données de validation aurait pu être utilisée afin de séparer totalement les méthodes de feature engineering de l'évaluation des modèles</p> </li> <li> <p>Comme il y a peu de points de données, nous avons mis l'accent sur le feature engineering afin d'avoir des variables pertinentes, ce qui nous as permis d'avoir des résultats satisfaisants (precision, recall&gt;96%) sur un modèle linéaire tel que la régression logistique</p> </li> <li> <p>Des corrélations entre les variables explicatives n'impactent pas les résultats grâce à la sélection de variables qui entre en compte pendant l'entrainement du modèle.</p> </li> <li> <p>Architecture de déploiement : A partir de notre modèle, on prend le maximum d'informations sur un bidder puis, on fait du feature engineering avant d'utiliser les modèles. Ainsi,</p> </li> <li> <p>Pendant l'exploration, on a remaqué que certains produits étaient achetés que par des humains (dans les limites de ce datset). Ainsi, nous aurions pu enlever les lignes correspondantes car la prédiction est évidente. D'un autre point de vue, les garder peut apporter des informations de correlations sur les autres features.</p> </li> </ul> <h2 id=conclusion>Conclusion<a class=headerlink href=#conclusion title="Permanent link">&para;</a></h2> <p>Ce projet de classification présente des spécificités intéressantes. D'une part, on a pu valider à priori qu'on a sur les robots à l'aide des données qu'on avait même s\'il y a eu des paradoxes quelques fois qui peuvent être liés au nombre limité de données ou à des facteurs extérieurs. D'autre part, la base de données brute contient beaucoup de champs texte. Ainsi, la transformation des données est l'étape cruciale de ce projet. En plus, la base de données, déséquilibrée, nécessite d'utiliser des techniques particulières pour l'entrainement. Nous avons également adapté les métriques de validation au problème de classification et avons obtenu des résultats satisfaisants (recall, précision &gt; 90%) avec jusque 4 à 5 features maximum, ce qui montre le potentiel que le feature engineering peut apporter à la modélisation et à l'explicabilité des modèles. Enfin, avec des modèles simples qui proposent des recall parfaits, nous pouvons être sûr de déterminer les robots même si certains (très peu) d'humains sont mals prédits</p> <aside class=md-source-file> <span class=md-source-file__fact> <span class=md-icon title="Last update"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M21 13.1c-.1 0-.3.1-.4.2l-1 1 2.1 2.1 1-1c.2-.2.2-.6 0-.8l-1.3-1.3c-.1-.1-.2-.2-.4-.2m-1.9 1.8-6.1 6V23h2.1l6.1-6.1-2.1-2M12.5 7v5.2l4 2.4-1 1L11 13V7h1.5M11 21.9c-5.1-.5-9-4.8-9-9.9C2 6.5 6.5 2 12 2c5.3 0 9.6 4.1 10 9.3-.3-.1-.6-.2-1-.2s-.7.1-1 .2C19.6 7.2 16.2 4 12 4c-4.4 0-8 3.6-8 8 0 4.1 3.1 7.5 7.1 7.9l-.1.2v1.8Z"/></svg> </span> <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-timeago"><span class=timeago datetime=2024-04-07T14:11:32+02:00 locale=en></span></span><span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-iso_date">2024-04-07</span> </span> <span class=md-source-file__fact> <span class=md-icon title=Created> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M14.47 15.08 11 13V7h1.5v5.25l3.08 1.83c-.41.28-.79.62-1.11 1m-1.39 4.84c-.36.05-.71.08-1.08.08-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8c0 .37-.03.72-.08 1.08.69.1 1.33.32 1.92.64.1-.56.16-1.13.16-1.72 0-5.5-4.5-10-10-10S2 6.5 2 12s4.47 10 10 10c.59 0 1.16-.06 1.72-.16-.32-.59-.54-1.23-.64-1.92M18 15v3h-3v2h3v3h2v-3h3v-2h-3v-3h-2Z"/></svg> </span> <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-timeago"><span class=timeago datetime=2023-11-08T15:28:32+01:00 locale=en></span></span><span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-iso_date">2023-11-08</span> </span> </aside> </article> </div> <script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script> </div> <button type=button class="md-top md-icon" data-md-component=top hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg> Back to top </button> </main> <footer class=md-footer> <nav class="md-footer__inner md-grid" aria-label=Footer> <a href=../ class="md-footer__link md-footer__link--prev" aria-label="Previous: Overview"> <div class="md-footer__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg> </div> <div class=md-footer__title> <span class=md-footer__direction> Previous </span> <div class=md-ellipsis> Overview </div> </div> </a> <a href=../search-engine-for-domain-specific-french-users/ class="md-footer__link md-footer__link--next" aria-label="Next: Search Engine in french"> <div class=md-footer__title> <span class=md-footer__direction> Next </span> <div class=md-ellipsis> Search Engine in french </div> </div> <div class="md-footer__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg> </div> </a> </nav> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-copyright> <div class=md-copyright__highlight> Copyright © 2023-2024 Hermann Agossou </div> Made with <a href=https://squidfunk.github.io/mkdocs-material/ target=_blank rel=noopener> Material for MkDocs </a> </div> <div class=md-social> <a href=https://github.com/hermann-web target=_blank rel=noopener title=github.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 496 512"><!-- Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg> </a> <a href=https://www.linkedin.com/in/agossou-hermann target=_blank rel=noopener title=www.linkedin.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"/></svg> </a> <a href=https://hub.docker.com/r/hermann-web/hermann-web.github.io/ target=_blank rel=noopener title=hub.docker.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 640 512"><!-- Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M349.9 236.3h-66.1v-59.4h66.1v59.4zm0-204.3h-66.1v60.7h66.1V32zm78.2 144.8H362v59.4h66.1v-59.4zm-156.3-72.1h-66.1v60.1h66.1v-60.1zm78.1 0h-66.1v60.1h66.1v-60.1zm276.8 100c-14.4-9.7-47.6-13.2-73.1-8.4-3.3-24-16.7-44.9-41.1-63.7l-14-9.3-9.3 14c-18.4 27.8-23.4 73.6-3.7 103.8-8.7 4.7-25.8 11.1-48.4 10.7H2.4c-8.7 50.8 5.8 116.8 44 162.1 37.1 43.9 92.7 66.2 165.4 66.2 157.4 0 273.9-72.5 328.4-204.2 21.4.4 67.6.1 91.3-45.2 1.5-2.5 6.6-13.2 8.5-17.1l-13.3-8.9zm-511.1-27.9h-66v59.4h66.1v-59.4zm78.1 0h-66.1v59.4h66.1v-59.4zm78.1 0h-66.1v59.4h66.1v-59.4zm-78.1-72.1h-66.1v60.1h66.1v-60.1z"/></svg> </a> <a href=https://twitter.com/AgossouHermann target=_blank rel=noopener title=twitter.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 512 512"><!-- Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"/></svg> </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <script id=__config type=application/json>{"base": "../..", "features": ["announce.dismiss", "content.action.edit", "content.action.view", "content.code.annotate", "content.code.copy", "content.tooltips", "navigation.footer", "navigation.indexes", "navigation.sections", "navigation.tabs", "navigation.top", "navigation.tracking", "search.highlight", "search.share", "search.suggest", "toc.follow"], "search": "../../assets/javascripts/workers/search.b8dbb3d2.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script> <script src=../../assets/javascripts/bundle.bd41221c.min.js></script> <script src=../../js/timeago.min.js></script> <script src=../../js/timeago_mkdocs_material.js></script> <script src=../../javascripts/katex.js></script> <script src=https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.7/katex.min.js></script> <script src=https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.7/contrib/auto-render.min.js></script> <script src=../../assets/javascripts/custom.9c11c319.min.js></script> </body> </html>